import{j as e}from"./chunk-DXw4Pgvm.js";import{f as t,g as a,r as s}from"./chunk-DZuWtVpy.js";import{r as l,a as i,b as n,c as o,u as r,T as d,f as c,g as u,E as h,W as m,I as x,l as f,G as j,A as p,i as y}from"../index-BLWR8CE4.js";import{D as g}from"./chunk-htgSwY5-.js";import{S as b}from"./chunk-Cup7Ag5L.js";import{R as C}from"./chunk-DNBUdNv9.js";import{C as v}from"./chunk-D1KMCQez.js";import{P as k,Q as S}from"./chunk-DE2Cur9t.js";import{E as w}from"./chunk-n0PNmOsO.js";import{b as q,a as I,c as D}from"./chunk-FadpXJkO.js";import{R as T}from"./chunk-CD_j3mns.js";import{q as N,s as L,T as E,o as R,S as O,af as M,d as A,I as P,a as $,k as B,x as Y,B as z,D as F,u as H,V as _,i as G,h as U,g as K,M as V}from"./chunk-CSjZqX98.js";import{u as W}from"./chunk-BP6R0kRn.js";import{a as Z}from"./chunk-xSw6NTs2.js";import{u as Q}from"./chunk-CM3g5OHp.js";import"./chunk-BNqsZZGB.js";import"./chunk-C0XEpv6B.js";import"./chunk-LrZrUcR8.js";import"./chunk-D2NJiGNk.js";var J,X,ee,te={exports:{}},ae={},se={};function le(){if(J)return se;J=1,Object.defineProperty(se,"__esModule",{value:!0});return se.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M884 256h-75c-5.1 0-9.9 2.5-12.9 6.6L512 654.2 227.9 262.6c-3-4.1-7.8-6.6-12.9-6.6h-75c-6.5 0-10.3 7.4-6.5 12.7l352.6 486.1c12.8 17.6 39 17.6 51.7 0l352.6-486.1c3.9-5.3.1-12.7-6.4-12.7z"}}]},name:"down",theme:"outlined"},se}function ie(){if(X)return ae;X=1;var e=l().default,a=i().default;Object.defineProperty(ae,"__esModule",{value:!0}),ae.default=void 0;var s=a(n()),r=e(t()),d=a(le()),c=a(o()),u=function(e,t){return r.createElement(c.default,(0,s.default)({},e,{ref:t,icon:d.default}))},h=r.forwardRef(u);return ae.default=h,ae}function ne(){return ee||(ee=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a;const s=(a=ie())&&a.__esModule?a:{default:a};t.default=s,e.exports=s}(te,te.exports)),te.exports}const oe=a(ne()),{Title:re,Text:de}=E,{RangePicker:ce}=M,ue=()=>{const{t:t}=Q(["queue"]),a=r(),[l,i]=s.useState(""),[n,o]=s.useState("active"),[E,M]=s.useState({teamName:"",includeCompleted:!0,includeCancelled:!1,staleThresholdMinutes:10,maxRecords:1e3}),[J,X]=s.useState(null),[ee,te]=s.useState([]),[ae,se]=s.useState(""),[le,ie]=s.useState(!1),[ne,ue]=s.useState(null),he=e=>/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i.test(e),me=s.useRef(null),xe=s.useRef(null),fe=s.useRef(null),je=s.useRef(null),pe=s.useMemo(()=>({...E,teamName:l,includeCancelled:"cancelled"===n||E.includeCancelled,includeCompleted:"completed"===n||E.includeCompleted,dateFrom:J?.[0]?.startOf("day").format("YYYY-MM-DD HH:mm:ss"),dateTo:J?.[1]?.endOf("day").format("YYYY-MM-DD HH:mm:ss"),status:ee.join(","),...ae.trim()&&he(ae.trim())?{taskId:ae.trim()}:{}}),[E,l,J,ee,ae,n]),{data:ye,isLoading:ge,refetch:be,isRefetching:Ce}=q(pe),{data:ve}=I(),ke=D(),Se=ge||Ce,we=W(me,{containerOffset:300,minRows:8,maxRows:50}),qe=W(xe,{containerOffset:300,minRows:8,maxRows:50}),Ie=W(fe,{containerOffset:300,minRows:8,maxRows:50}),De=W(je,{containerOffset:300,minRows:8,maxRows:50}),Te=e=>{const t=ye?.items||[],a=`queue_export_${A().format("YYYY-MM-DD_HH-mm-ss")}.${e}`;if("csv"===e){const e=[["Task ID","Status","Priority","Age (minutes)","Team","Machine","Region","Bridge","Has Response","Retry Count","Created By","Created"].join(","),...t.map(e=>[e.taskId,e.healthStatus,e.priorityLabel||"",e.ageInMinutes,e.teamName,e.machineName,e.regionName,e.bridgeName,e.hasResponse?"Yes":"No",e.retryCount||0,e.createdBy||"",e.createdTime].map(e=>`"${e||""}"`).join(","))].join("\n"),s=new Blob([e],{type:"text/csv"}),l=URL.createObjectURL(s),i=document.createElement("a");i.href=l,i.download=a,i.click(),URL.revokeObjectURL(l),f("success",`Exported ${t.length} items to ${a}`)}else{const e=new Blob([JSON.stringify(t,null,2)],{type:"application/json"}),s=URL.createObjectURL(e),l=document.createElement("a");l.href=s,l.download=a,l.click(),URL.revokeObjectURL(s),f("success",`Exported ${t.length} items to ${a}`)}},Ne=[{title:"Task ID",dataIndex:"taskId",key:"taskId",width:200,render:t=>e.jsx(de,{code:!0,copyable:!0,children:t})},{title:"Status",dataIndex:"healthStatus",key:"healthStatus",width:120,render:(t,a)=>{const s={PENDING:{color:"default",icon:e.jsx(c,{})},ACTIVE:{color:"processing",icon:e.jsx(k,{})},STALE:{color:"warning",icon:e.jsx(m,{})},STALE_PENDING:{color:"orange",icon:e.jsx(m,{})},CANCELLING:{color:"warning",icon:e.jsx(k,{spin:!0})},COMPLETED:{color:"success",icon:e.jsx(u,{})},FAILED:{color:"error",icon:e.jsx(h,{})},CANCELLED:{color:"error",icon:e.jsx(v,{})},UNKNOWN:{color:"default",icon:e.jsx(h,{})}},l=s[t]||s.UNKNOWN,i="ACTIVE"===t&&a.status?`${a.status} (${t})`:t;let n;if(a.minutesSinceAssigned)n=`${a.minutesSinceAssigned} minutes since assigned`;else if("STALE_PENDING"===t){n=`Pending for ${Math.floor(a.ageInMinutes/60)} hours - may need attention`}return e.jsx(B,{title:n,children:e.jsx(K,{color:l.color,icon:l.icon,children:i})})}},{title:"Priority",dataIndex:"priorityLabel",key:"priority",width:140,render:(t,a)=>{if(!t||!a.priority)return e.jsx(de,{type:"secondary",children:"-"});const s={1:{color:"red",icon:e.jsx(h,{})},2:{color:"orange",icon:void 0},3:{color:"gold",icon:void 0},4:{color:"blue",icon:void 0},5:{color:"green",icon:void 0}},l=s[a.priority]||s[3];return e.jsx(K,{color:l.color,icon:l.icon,children:t})},sorter:(e,t)=>(e.priority||3)-(t.priority||3)},{title:"Age",dataIndex:"ageInMinutes",key:"ageInMinutes",width:100,render:e=>e<60?`${e}m`:e<1440?`${Math.floor(e/60)}h ${e%60}m`:`${Math.floor(e/1440)}d ${Math.floor(e%1440/60)}h`,sorter:(e,t)=>e.ageInMinutes-t.ageInMinutes},{title:"Team",dataIndex:"teamName",key:"teamName"},{title:"Machine",dataIndex:"machineName",key:"machineName",render:t=>e.jsxs($,{children:[e.jsx(g,{}),t]})},{title:"Region",dataIndex:"regionName",key:"regionName",render:t=>e.jsxs($,{children:[e.jsx(j,{}),t]})},{title:"Bridge",dataIndex:"bridgeName",key:"bridgeName",render:t=>e.jsxs($,{children:[e.jsx(p,{}),t]})},{title:"Response",dataIndex:"hasResponse",key:"hasResponse",width:80,render:t=>t?e.jsx(K,{color:"success",children:"Yes"}):e.jsx(K,{children:"No"})},{title:"Retries",dataIndex:"retryCount",key:"retryCount",width:80,render:(t,a)=>{if(!t&&0!==t)return e.jsx(de,{type:"secondary",children:"-"});const s=0===t?"green":t<2?"orange":"red",l=t>=2&&a.permanentlyFailed?e.jsx(h,{}):void 0;return e.jsx(B,{title:e.jsxs("div",{children:[a.lastFailureReason||"No failures",a.lastRetryAt&&e.jsxs("div",{style:{marginTop:4,fontSize:"12px"},children:["Last retry: ",Z(a.lastRetryAt,"datetime")]})]}),children:e.jsxs(K,{color:s,icon:l,children:[t,"/2"]})})},sorter:(e,t)=>(e.retryCount||0)-(t.retryCount||0)},{title:"Created By",dataIndex:"createdBy",key:"createdBy",width:150,render:t=>t||e.jsx(de,{type:"secondary",children:"-"})},{title:"Age",dataIndex:"ageInMinutes",key:"age",width:100,render:(t,a)=>{const s=Math.floor(t/60),l=t%60;let i,n="";return n=s>0?`${s}h ${l}m`:`${l}m`,"PENDING"===a.status&&s>=6?i="orange":"PENDING"===a.status&&s>=12&&(i="red"),e.jsx(de,{style:{color:i},children:n})},sorter:(e,t)=>e.ageInMinutes-t.ageInMinutes},{title:"Created",dataIndex:"createdTime",key:"createdTime",width:180,render:e=>A(e).format("YYYY-MM-DD HH:mm:ss"),sorter:(e,t)=>new Date(e.createdTime).getTime()-new Date(t.createdTime).getTime()},{title:"Actions",key:"actions",width:180,render:(t,s)=>e.jsxs($,{size:"small",children:[e.jsx(B,{title:"Trace",children:e.jsx(z,{size:"small",type:"primary",icon:e.jsx(y,{}),style:a.touchTargetSmall,onClick:()=>{return e=s.taskId,ue(e),void ie(!0);var e},"data-testid":`queue-trace-button-${s.taskId}`,"aria-label":"Trace"})}),s.canBeCancelled&&"CANCELLED"!==s.healthStatus&&"CANCELLING"!==s.healthStatus&&e.jsx(B,{title:"Cancel",children:e.jsx(z,{size:"small",danger:!0,icon:e.jsx(v,{}),style:a.touchTargetSmall,onClick:()=>(async e=>{V.confirm({title:"Cancel Queue Item",content:"Are you sure you want to cancel this queue item? This action cannot be undone.",okText:"Yes, Cancel",okType:"danger",cancelText:"No",onOk:async()=>{try{await ke.mutateAsync(e)}catch(t){}}})})(s.taskId),loading:ke.isPending,"data-testid":`queue-cancel-button-${s.taskId}`,"aria-label":"Cancel"})})]})}],Le={...a.container,height:"calc(100vh - 64px - 48px)",...a.flexColumn,overflow:"hidden"};return e.jsxs("div",{style:Le,"data-testid":"queue-page-container",children:[e.jsx(N,{gutter:[16,16],align:"middle",style:{marginBottom:16},children:e.jsx(L,{children:e.jsx(re,{level:2,style:a.heading2,children:"Queue Management"})})}),e.jsxs(R,{style:{...a.card,...a.marginBottom.md},"data-testid":"queue-filters-card",children:[e.jsxs(N,{gutter:[16,16],align:"middle",children:[e.jsxs(L,{xs:24,sm:12,md:6,children:[e.jsx("label",{htmlFor:"queue-filter-team",style:{display:"block",marginBottom:8},children:e.jsx(de,{type:"secondary",children:"Team"})}),e.jsx(O,{id:"queue-filter-team",style:{width:"100%"},placeholder:"Select a team to view queue items",value:l||void 0,onChange:e=>{i(e||""),M({...E,machineName:""})},allowClear:!0,showSearch:!0,filterOption:(e,t)=>t?.label?.toLowerCase().includes(e.toLowerCase()),options:ve?.teams||[],"data-testid":"queue-filter-team","aria-label":"Select team to filter queue items"})]}),l&&e.jsxs(L,{xs:24,sm:12,md:6,children:[e.jsx("label",{htmlFor:"queue-filter-machine",style:{display:"block",marginBottom:8},children:e.jsx(de,{type:"secondary",children:"Machine"})}),e.jsx(O,{id:"queue-filter-machine",style:{width:"100%"},placeholder:"All machines",value:E.machineName||void 0,onChange:e=>M({...E,machineName:e||""}),allowClear:!0,showSearch:!0,filterOption:(e,t)=>t?.label?.toLowerCase().includes(e.toLowerCase()),options:ve?.machinesByTeam?.find(e=>e.teamName===l)?.machines||[],"data-testid":"queue-filter-machine","aria-label":"Select machine to filter queue items"})]}),e.jsxs(L,{xs:24,sm:12,md:6,children:[e.jsx("label",{htmlFor:"queue-filter-status",style:{display:"block",marginBottom:8},children:e.jsx(de,{type:"secondary",children:"Status"})}),e.jsxs(O,{id:"queue-filter-status",mode:"multiple",style:{width:"100%"},placeholder:"All statuses",value:ee,onChange:te,allowClear:!0,"data-testid":"queue-filter-status","aria-label":"Select statuses to filter queue items",children:[e.jsx(O.Option,{value:"PENDING","data-testid":"queue-filter-status-option-pending",children:"Pending"}),e.jsx(O.Option,{value:"ACTIVE","data-testid":"queue-filter-status-option-active",children:"Active"}),e.jsx(O.Option,{value:"STALE","data-testid":"queue-filter-status-option-stale",children:"Stale"}),e.jsx(O.Option,{value:"CANCELLING","data-testid":"queue-filter-status-option-cancelling",children:"Cancelling"}),e.jsx(O.Option,{value:"COMPLETED","data-testid":"queue-filter-status-option-completed",children:"Completed"}),e.jsx(O.Option,{value:"FAILED","data-testid":"queue-filter-status-option-failed",children:"Failed"}),e.jsx(O.Option,{value:"CANCELLED","data-testid":"queue-filter-status-option-cancelled",children:"Cancelled"})]})]}),e.jsxs(L,{xs:24,sm:12,md:6,children:[e.jsx("label",{htmlFor:"queue-filter-date",style:{display:"block",marginBottom:8},children:e.jsx(de,{type:"secondary",children:"Date Range"})}),e.jsx(ce,{id:"queue-filter-date",style:{width:"100%"},showTime:!0,format:"YYYY-MM-DD HH:mm:ss",value:J,onChange:e=>X(e),presets:[{label:"Today",value:[A().startOf("day"),A().endOf("day")]},{label:"Yesterday",value:[A().subtract(1,"day").startOf("day"),A().subtract(1,"day").endOf("day")]},{label:"Last 7 Days",value:[A().subtract(7,"day").startOf("day"),A()]},{label:"Last 30 Days",value:[A().subtract(30,"day").startOf("day"),A()]},{label:"This Month",value:[A().startOf("month"),A().endOf("month")]},{label:"Last Month",value:[A().subtract(1,"month").startOf("month"),A().subtract(1,"month").endOf("month")]}],"data-testid":"queue-filter-date","aria-label":"Select date range to filter queue items"})]})]}),e.jsxs(N,{gutter:[16,16],style:{marginTop:16},align:"middle",children:[e.jsxs(L,{xs:24,sm:12,md:6,children:[e.jsx("label",{htmlFor:"queue-filter-taskid",style:{display:"block",marginBottom:8},children:e.jsx(de,{type:"secondary",children:"Task ID"})}),e.jsx(P,{id:"queue-filter-taskid",placeholder:"Filter by Task ID (GUID format)",value:ae,onChange:e=>se(e.target.value),prefix:e.jsx(b,{}),allowClear:!0,status:ae&&!he(ae)?"error":void 0,autoComplete:"off","data-testid":"queue-filter-taskid","aria-label":"Filter queue items by Task ID","aria-describedby":ae&&!he(ae)?"taskid-error":void 0}),ae&&!he(ae)&&e.jsx(de,{id:"taskid-error",type:"danger",style:{fontSize:"12px"},children:"Invalid GUID format"})]}),e.jsxs(L,{xs:24,sm:12,md:6,children:[e.jsx("div",{style:{marginBottom:8},children:e.jsx(de,{type:"secondary",children:"Options"})}),e.jsxs($,{direction:"vertical",children:[e.jsx(B,{title:"completed"===n?"Automatically enabled when viewing Completed tab":"",children:e.jsx(Y,{checked:"completed"===n||E.includeCompleted,disabled:"completed"===n,onChange:e=>M({...E,includeCompleted:e.target.checked}),"data-testid":"queue-checkbox-include-completed",children:"Include Completed"})}),e.jsx(B,{title:"cancelled"===n?"Automatically enabled when viewing Cancelled tab":"",children:e.jsx(Y,{checked:"cancelled"===n||E.includeCancelled,disabled:"cancelled"===n,onChange:e=>M({...E,includeCancelled:e.target.checked}),"data-testid":"queue-checkbox-include-cancelled",children:"Include Cancelled"})}),e.jsx(Y,{checked:E.onlyStale,onChange:e=>M({...E,onlyStale:e.target.checked}),"data-testid":"queue-checkbox-only-stale",children:"Only Stale Items"})]})]}),e.jsx(L,{style:{marginLeft:"auto"},children:e.jsxs($,{children:[e.jsx(z,{icon:e.jsx(C,{}),style:a.touchTarget,onClick:()=>be(),loading:Se,"data-testid":"queue-refresh-button",children:"Refresh"}),e.jsx(F,{menu:{items:[{key:"csv",label:"Export as CSV",onClick:()=>Te("csv")},{key:"json",label:"Export as JSON",onClick:()=>Te("json")}]},children:e.jsxs(z,{icon:e.jsx(w,{}),style:a.touchTarget,"data-testid":"queue-export-dropdown",children:["Export ",e.jsx(oe,{})]})})]})})]})]}),e.jsxs(N,{gutter:16,style:a.marginBottom.md,"data-testid":"queue-statistics-row",children:[e.jsx(L,{xs:24,sm:12,md:8,lg:4,xl:3,children:e.jsx(R,{style:a.card,children:e.jsx(H,{title:"Total",value:ye?.statistics?.totalCount||0,prefix:e.jsx(d,{})})})}),e.jsx(L,{xs:24,sm:12,md:8,lg:4,xl:3,children:e.jsx(R,{style:a.card,children:e.jsx(H,{title:"Pending",value:ye?.statistics?.pendingCount||0,valueStyle:{color:"#8c8c8c"},prefix:e.jsx(c,{})})})}),e.jsx(L,{xs:24,sm:12,md:8,lg:4,xl:3,children:e.jsx(R,{style:a.card,children:e.jsx(H,{title:"Assigned",value:ye?.statistics?.assignedCount||0,valueStyle:{color:"#1890ff"}})})}),e.jsx(L,{xs:24,sm:12,md:8,lg:4,xl:3,children:e.jsx(R,{style:a.card,children:e.jsx(H,{title:"Processing",value:ye?.statistics?.processingCount||0,valueStyle:{color:"#1890ff"},prefix:e.jsx(k,{})})})}),e.jsx(L,{xs:24,sm:12,md:8,lg:4,xl:3,children:e.jsx(R,{style:a.card,children:e.jsx(H,{title:"Completed",value:ye?.statistics?.completedCount||0,valueStyle:{color:"#52c41a"},prefix:e.jsx(u,{})})})}),e.jsx(L,{xs:24,sm:12,md:8,lg:4,xl:3,children:e.jsx(R,{style:a.card,children:e.jsx(H,{title:"Failed",value:ye?.statistics?.failedCount||0,valueStyle:{color:"#ff4d4f"},prefix:e.jsx(h,{})})})}),e.jsx(L,{xs:24,sm:12,md:8,lg:4,xl:3,children:e.jsx(R,{style:a.card,children:e.jsx(H,{title:"Cancelling",value:ye?.statistics?.cancellingCount||0,valueStyle:{color:"#faad14"},prefix:e.jsx(k,{spin:!0})})})}),e.jsx(L,{xs:24,sm:12,md:8,lg:4,xl:3,children:e.jsx(R,{style:a.card,children:e.jsx(H,{title:"Cancelled",value:ye?.statistics?.cancelledCount||0,valueStyle:{color:"#ff4d4f"},prefix:e.jsx(v,{})})})}),e.jsx(L,{xs:24,sm:12,md:8,lg:4,xl:3,children:e.jsx(R,{style:a.card,children:e.jsx(H,{title:"Stale",value:ye?.statistics?.staleCount||0,valueStyle:{color:"#faad14"},prefix:e.jsx(m,{})})})})]}),e.jsxs(_,{activeKey:n,onChange:o,style:{flex:1,display:"flex",flexDirection:"column",minHeight:0,overflow:"hidden"},className:"full-height-tabs","data-testid":"queue-tabs",children:[e.jsx(_.TabPane,{tab:e.jsx(B,{title:t("queue:tabs.active.tooltip"),children:e.jsxs($,{"data-testid":"queue-tab-active",children:[e.jsx("span",{style:{marginRight:8},children:t("queue:tabs.active.title")}),e.jsx(U,{count:ye?.items?.filter(e=>!["COMPLETED","CANCELLED","FAILED"].includes(e.healthStatus)).length||0,color:"gold"})]})}),"data-testid":"queue-tabpane-active",children:e.jsxs("div",{ref:me,style:{height:"100%",display:"flex",flexDirection:"column"},"data-testid":"queue-table-active-container",children:[e.jsx(G,{message:t("queue:tabs.active.description"),type:"info",showIcon:!0,icon:e.jsx(x,{}),style:{marginBottom:16},closable:!0,"data-testid":"queue-alert-active"}),e.jsx(T,{loading:ge||Ce,data:ye?.items?.filter(e=>!["COMPLETED","CANCELLED","FAILED"].includes(e.healthStatus))||[],columns:Ne,rowKey:"taskId",searchPlaceholder:"Search queue items...",enableDynamicPageSize:!0,containerStyle:{height:"100%",display:"flex",flexDirection:"column"},tableStyle:{height:"calc(100vh - 520px)",minHeight:"400px"},pagination:{pageSize:we,showSizeChanger:!1,showTotal:(e,t)=>`Showing records ${t[0]}-${t[1]} of ${e}`,position:["bottomRight"]}})]})},"active"),e.jsx(_.TabPane,{tab:e.jsx(B,{title:t("queue:tabs.completed.tooltip"),children:e.jsxs($,{"data-testid":"queue-tab-completed",children:[e.jsx("span",{style:{marginRight:8},children:t("queue:tabs.completed.title")}),e.jsx(U,{count:ye?.statistics?.completedCount||0,showZero:!0,color:"#52c41a"})]})}),"data-testid":"queue-tabpane-completed",children:e.jsxs("div",{ref:xe,style:{height:"100%",display:"flex",flexDirection:"column"},"data-testid":"queue-table-completed-container",children:[e.jsx(G,{message:t("queue:tabs.completed.description"),type:"success",showIcon:!0,icon:e.jsx(u,{}),style:{marginBottom:16},closable:!0,"data-testid":"queue-alert-completed"}),e.jsx(T,{loading:ge||Ce,data:ye?.items?.filter(e=>"COMPLETED"===e.healthStatus)||[],columns:Ne,rowKey:"taskId",searchPlaceholder:"Search completed items...",enableDynamicPageSize:!0,containerStyle:{height:"100%",display:"flex",flexDirection:"column"},tableStyle:{height:"calc(100vh - 520px)",minHeight:"400px"},pagination:{pageSize:qe,showSizeChanger:!1,showTotal:(e,t)=>`Showing records ${t[0]}-${t[1]} of ${e}`,position:["bottomRight"]}})]})},"completed"),e.jsx(_.TabPane,{tab:e.jsx(B,{title:t("queue:tabs.cancelled.tooltip"),children:e.jsxs($,{"data-testid":"queue-tab-cancelled",children:[e.jsx("span",{style:{marginRight:8},children:t("queue:tabs.cancelled.title")}),e.jsx(U,{count:ye?.statistics?.cancelledCount||0,showZero:!0,color:"#ff4d4f"})]})}),"data-testid":"queue-tabpane-cancelled",children:e.jsxs("div",{ref:fe,style:{height:"100%",display:"flex",flexDirection:"column"},"data-testid":"queue-table-cancelled-container",children:[e.jsx(G,{message:t("queue:tabs.cancelled.description"),type:"warning",showIcon:!0,icon:e.jsx(v,{}),style:{marginBottom:16},closable:!0,"data-testid":"queue-alert-cancelled"}),e.jsx(T,{loading:ge||Ce,data:ye?.items?.filter(e=>"CANCELLED"===e.healthStatus)||[],columns:Ne,rowKey:"taskId",searchPlaceholder:"Search cancelled items...",enableDynamicPageSize:!0,containerStyle:{height:"100%",display:"flex",flexDirection:"column"},tableStyle:{height:"calc(100vh - 520px)",minHeight:"400px"},pagination:{pageSize:Ie,showSizeChanger:!1,showTotal:(e,t)=>`Showing records ${t[0]}-${t[1]} of ${e}`,position:["bottomRight"]}})]})},"cancelled"),e.jsx(_.TabPane,{tab:e.jsx(B,{title:t("queue:tabs.failed.tooltip"),children:e.jsxs($,{"data-testid":"queue-tab-failed",children:[e.jsx("span",{style:{marginRight:8},children:t("queue:tabs.failed.title")}),e.jsx(U,{count:ye?.statistics?.failedCount||0,showZero:!0,color:"#ff4d4f"})]})}),"data-testid":"queue-tabpane-failed",children:e.jsxs("div",{ref:je,style:{height:"100%",display:"flex",flexDirection:"column"},"data-testid":"queue-table-failed-container",children:[e.jsx(G,{message:t("queue:tabs.failed.description"),type:"error",showIcon:!0,icon:e.jsx(h,{}),style:{marginBottom:16},closable:!0,"data-testid":"queue-alert-failed"}),e.jsx(T,{loading:ge||Ce,data:ye?.items?.filter(e=>"FAILED"===e.healthStatus)||[],columns:Ne,rowKey:"taskId",searchPlaceholder:"Search failed items...",enableDynamicPageSize:!0,containerStyle:{height:"100%",display:"flex",flexDirection:"column"},tableStyle:{height:"calc(100vh - 520px)",minHeight:"400px"},pagination:{pageSize:De,showSizeChanger:!1,showTotal:(e,t)=>`Showing records ${t[0]}-${t[1]} of ${e}`,position:["bottomRight"]}})]})},"failed")]}),e.jsx(S,{taskId:ne,visible:le,onClose:()=>{ie(!1),ue(null)}})]})};export{ue as default};
