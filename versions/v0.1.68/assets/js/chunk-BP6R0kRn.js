import{r as e}from"./chunk-DZuWtVpy.js";import{f as r}from"./chunk-C0XEpv6B.js";const n=(n,t={})=>{const{rowHeight:c=54,headerHeight:s=55,paginationHeight:u=64,containerOffset:o=32,minRows:i=5,maxRows:a=100}=t,[f,h]=e.useState(10),w=e.useRef(null),l=e.useCallback(()=>{if(!n.current)return;const e=n.current.offsetHeight-s-u-o,r=Math.floor(e/c),t=Math.max(i,Math.min(a,r));h(t)},[n,c,s,u,o,i,a]),m=e.useRef(null);return e.useEffect(()=>(m.current=r.debounce(l,300),()=>{m.current?.cancel()}),[l]),e.useEffect(()=>{l(),n.current&&window.ResizeObserver&&(w.current=new ResizeObserver(()=>{m.current?.()}),w.current.observe(n.current));const e=()=>{m.current?.()};return window.addEventListener("resize",e),()=>{w.current&&w.current.disconnect(),window.removeEventListener("resize",e),m.current?.cancel()}},[l,n]),f};export{n as u};
