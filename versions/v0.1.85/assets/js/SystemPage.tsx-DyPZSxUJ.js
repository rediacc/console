import{j as e,f as t,u as s,g as a,h as r,e as n}from"./chunk-DXw4Pgvm.js";import{f as i,g as o,r as l,j as d,R as c}from"./chunk-DZuWtVpy.js";import{r as u,a as m,b as p,c as g,s as h,z as y,i as x,B as f,u as j,m as b,q as w,y as v,F as C,J as P,L as k,M as N,S as A,K as S,D as M,g as T,W as E,w as I,N as B,k as D,O as F,U as L,o as R,h as z,p as O,n as U,P as Z,Q as _,v as G,R as q,V,X as $,Y as K}from"../index-4JeGDNMa.js";import{C as H,v as X,w as Q,x as W,a as Y,y as J,z as ee,A as te,B as se,D as ae,E as re,G as ne,H as ie,I as oe,V as le,s as de,U as ce,S as ue,J as me}from"./chunk-B2sEK049.js";import{A as pe,S as ge}from"./chunk-CFN2mKSw.js";import{E as he}from"./chunk-CnRfPrRG.js";import{D as ye,S as xe}from"./chunk-BsdCfluv.js";import{T as fe}from"./chunk-sYvc2Cs9.js";import{C as je,D as be}from"./chunk-UMPBZIL9.js";import{C as we}from"./chunk-xkalkJPT.js";import{D as ve}from"./chunk-B5K4ea0S.js";import{E as Ce}from"./chunk-M342VvV0.js";import{I as Pe}from"./chunk-ysSeH3xU.js";import{R as ke}from"./chunk-D2eWlMlt.js";import{F as Ne,a as Ae,B as Se,I as Me,S as Te,f as Ee,h as Ie,ai as Be,l as De,s as Fe,u as Le,p as Re,v as ze,w as Oe,X as Ue,M as Ze,j as _e,q as Ge,T as qe,W as Ve,R as $e,i as Ke,g as He,E as Xe,af as Qe,y as We,U as Ye}from"./chunk-DcXv3kLI.js";import{S as Je}from"./chunk-CPqA7Rd7.js";import{R as et}from"./chunk-DjYUElpC.js";import{C as tt}from"./chunk-B5mJ0Ouc.js";import{u as st,i as at}from"./chunk-CM3g5OHp.js";import{m as rt,a as nt}from"./chunk-BbZU7JC1.js";import{e as it}from"./chunk-BbbDl1Q4.js";import"./chunk-oDcFv_qo.js";import"./chunk-lGptOMHx.js";import"./chunk-CR_-dCFH.js";import"./chunk-xSw6NTs2.js";var ot,lt,dt,ct={exports:{}},ut={},mt={};function pt(){if(ot)return mt;ot=1,Object.defineProperty(mt,"__esModule",{value:!0});return mt.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 289.1a362.49 362.49 0 00-79.9-115.7 370.83 370.83 0 00-118.2-77.8C610.7 76.6 562.1 67 512 67c-50.1 0-98.7 9.6-144.5 28.5-44.3 18.3-84 44.5-118.2 77.8A363.6 363.6 0 00169.4 289c-19.5 45-29.4 92.8-29.4 142 0 70.6 16.9 140.9 50.1 208.7 26.7 54.5 64 107.6 111 158.1 80.3 86.2 164.5 138.9 188.4 153a43.9 43.9 0 0022.4 6.1c7.8 0 15.5-2 22.4-6.1 23.9-14.1 108.1-66.8 188.4-153 47-50.4 84.3-103.6 111-158.1C867.1 572 884 501.8 884 431.1c0-49.2-9.9-97-29.4-142zM512 880.2c-65.9-41.9-300-207.8-300-449.1 0-77.9 31.1-151.1 87.6-206.3C356.3 169.5 431.7 139 512 139s155.7 30.5 212.4 85.9C780.9 280 812 353.2 812 431.1c0 241.3-234.1 407.2-300 449.1zm0-617.2c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 551c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 439c0-29.9 11.7-58 32.8-79.2C454 338.6 482.1 327 512 327c29.9 0 58 11.6 79.2 32.8C612.4 381 624 409.1 624 439c0 29.9-11.6 58-32.8 79.2z"}}]},name:"environment",theme:"outlined"},mt}function gt(){if(lt)return ut;lt=1;var e=u().default,t=m().default;Object.defineProperty(ut,"__esModule",{value:!0}),ut.default=void 0;var s=t(p()),a=e(i()),r=t(pt()),n=t(g()),o=function(e,t){return a.createElement(n.default,(0,s.default)({},e,{ref:t,icon:r.default}))},l=a.forwardRef(o);return ut.default=l,ut}function ht(){return dt||(dt=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s;const a=(s=gt())&&s.__esModule?s:{default:s};t.default=a,e.exports=a}(ct,ct.exports)),ct.exports}const yt=o(ht());var xt,ft,jt,bt={exports:{}},wt={},vt={};function Ct(){if(xt)return vt;xt=1,Object.defineProperty(vt,"__esModule",{value:!0});return vt.default={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},vt}function Pt(){if(ft)return wt;ft=1;var e=u().default,t=m().default;Object.defineProperty(wt,"__esModule",{value:!0}),wt.default=void 0;var s=t(p()),a=e(i()),r=t(Ct()),n=t(g()),o=function(e,t){return a.createElement(n.default,(0,s.default)({},e,{ref:t,icon:r.default}))},l=a.forwardRef(o);return wt.default=l,wt}function kt(){return jt||(jt=1,function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var s;const a=(s=Pt())&&s.__esModule?s:{default:s};t.default=a,e.exports=a}(bt,bt.exports)),bt.exports}const Nt=o(kt());function At({form:t,fields:s,onSubmit:a,submitText:r="Submit",cancelText:n="Cancel",onCancel:i,loading:o=!1,layout:l="vertical"}){const{control:d,handleSubmit:c,formState:{errors:u}}=t,m=t=>{switch(t.type){case"select":return e.jsx(H,{name:t.name,control:d,render:({field:s})=>e.jsx(Te,{...s,placeholder:t.placeholder,options:t.options,disabled:t.disabled,allowClear:!0,showSearch:!0,filterOption:(e,t)=>(t?.label??"").toLowerCase().includes(e.toLowerCase()),style:{width:"100%"},"data-testid":`resource-form-field-${t.name}`})});case"password":return e.jsx(H,{name:t.name,control:d,render:({field:s})=>e.jsx(Me.Password,{...s,placeholder:t.placeholder,disabled:t.disabled,autoComplete:"off","data-testid":`resource-form-field-${t.name}`})});default:return e.jsx(H,{name:t.name,control:d,render:({field:s})=>e.jsx(Me,{...s,type:t.type||"text",placeholder:t.placeholder,disabled:t.disabled,autoComplete:"off","data-testid":`resource-form-field-${t.name}`})})}},p="vertical"===l?"horizontal":l,g={span:6},y={span:18};return e.jsxs(Ne,{layout:p,onFinish:c(a),labelCol:g,wrapperCol:y,labelAlign:"right",colon:!0,"data-testid":"resource-form",children:[s.map(t=>{if(t.hidden)return null;const s=u[t.name];return e.jsx(Ne.Item,{label:t.label,required:t.required,validateStatus:s?"error":void 0,help:s?.message,children:m(t)},t.name)}),e.jsx(Ne.Item,{style:{marginBottom:0,marginTop:h("CONTAINER")},wrapperCol:{offset:g.span,span:y.span},children:e.jsxs(Ae,{style:{width:"100%",justifyContent:"flex-end"},children:[i&&e.jsx(Se,{onClick:i,disabled:o,"data-testid":"resource-form-cancel-button",children:n}),e.jsx(Se,{type:"primary",htmlType:"submit",loading:o,"data-testid":"resource-form-submit-button",children:r})]})})]})}const St=X({endpoint:"/CreateNewUser",method:"post",invalidateKeys:["users","dropdown-data"],successMessage:e=>`User "${e.email}" created successfully`,errorMessage:"Failed to create user",transformData:async e=>{const t=await y(e.password);return{newUserEmail:e.email,newUserHash:t}}}),Mt=X({endpoint:"/UpdateUserToDeactivated",method:"put",invalidateKeys:["users"],successMessage:e=>`User "${e}" deactivated`,errorMessage:"Failed to deactivate user",transformData:e=>({userEmail:e})}),Tt=X({endpoint:"/UpdateUserAssignedPermissions",method:"put",invalidateKeys:["users"],successMessage:e=>`User "${e.userEmail}" assigned to group "${e.permissionGroupName}"`,errorMessage:"Failed to assign permissions"}),Et=X({endpoint:"/UpdateUserPassword",method:"put",invalidateKeys:[],successMessage:()=>"Password updated successfully. Please login with your new password.",errorMessage:"Failed to update password",transformData:async e=>({userNewPass:await y(e.newPassword)})}),It=X({endpoint:"/DeleteUserRequest",method:"delete",invalidateKeys:["user-requests"],successMessage:()=>"User session terminated successfully",errorMessage:"Failed to terminate user session",transformData:e=>({requestId:e.requestId})}),Bt=X({endpoint:"/UpdateUserVault",method:"post",invalidateKeys:["user-vault"],successMessage:()=>"User vault updated successfully",errorMessage:"Failed to update user vault",transformData:e=>({userVault:e.userVault,vaultVersion:e.vaultVersion})});Ee.extend(v);const Dt=()=>{const{t:a}=st("system"),r=s(f),[n,i]=l.useState(""),o=j(),d=b(),c=w(),{data:u=[],isLoading:m,refetch:p}=t({queryKey:["user-requests"],queryFn:async()=>{const e=await x.get("/GetUserRequests");return e.resultSets[1]?.data||[]},staleTime:1e4,refetchInterval:3e4}),g=It(),h=u.filter(e=>e.userEmail.toLowerCase().includes(n.toLowerCase())||e.ipAddress.toLowerCase().includes(n.toLowerCase())||e.sessionName.toLowerCase().includes(n.toLowerCase())),y=u.filter(e=>e.isActive),v=[{title:a("userSessions.columns.user"),dataIndex:"userEmail",key:"userEmail",width:200,render:t=>e.jsxs(Ae,{children:[e.jsx("span",{style:o.body,children:t}),t===r?.email&&e.jsx(Ie,{color:"blue",style:{borderRadius:"var(--border-radius-sm)",...o.caption},children:a("userSessions.currentSession")})]})},{title:a("userSessions.columns.sessionName"),dataIndex:"sessionName",key:"sessionName",width:150},{title:a("userSessions.columns.ipAddress"),dataIndex:"ipAddress",key:"ipAddress",width:120},{title:a("userSessions.columns.userAgent"),dataIndex:"userAgent",key:"userAgent",width:300,ellipsis:!0},{title:a("userSessions.columns.status"),dataIndex:"isActive",key:"isActive",width:100,render:t=>e.jsx(Ie,{color:t?"green":"red",style:{borderRadius:"var(--border-radius-sm)",...o.caption},children:a(t?"userSessions.active":"userSessions.inactive")})},{title:a("userSessions.columns.createdAt"),dataIndex:"createdAt",key:"createdAt",width:180,render:e=>Ee(e).format("YYYY-MM-DD HH:mm:ss"),sorter:(e,t)=>Ee(e.createdAt).unix()-Ee(t.createdAt).unix(),defaultSortOrder:"descend"},{title:a("userSessions.columns.lastActivity"),dataIndex:"lastActivity",key:"lastActivity",width:150,render:e=>Ee(e).fromNow()},{title:a("userSessions.columns.duration"),key:"duration",width:120,render:(e,t)=>`${Ee(t.lastActivity).diff(Ee(t.createdAt),"minute")} ${a("userSessions.minutes")}`},{title:a("userSessions.columns.actions"),key:"actions",width:120,fixed:"right",render:(t,s)=>e.jsx(Be,{title:e.jsx("span",{style:o.label,children:a("userSessions.confirmTerminate")}),description:e.jsx("span",{style:o.body,children:s.userEmail===r?.email?a("userSessions.confirmTerminateSelf"):a("userSessions.confirmTerminateOther",{email:s.userEmail})}),onConfirm:()=>(async e=>{try{await g.mutateAsync({requestId:e.requestId}),e.userEmail===r?.email&&Ue.warning(a("userSessions.selfTerminateWarning"))}catch(t){}})(s),okText:a("common:yes"),cancelText:a("common:no"),disabled:!s.isActive,children:e.jsx(De,{title:a("userSessions.terminate"),children:e.jsx(Se,{"data-testid":`sessions-terminate-${s.requestId}`,type:"link",danger:!0,icon:e.jsx(tt,{style:o.icon.small}),disabled:!s.isActive,loading:g.isPending,style:{...d.tableActionButton,...o.touchTargetSmall},"aria-label":a("userSessions.terminate")})})})}];return e.jsxs("div",{className:"user-sessions-tab",style:o.container,children:[e.jsxs(Fe,{gutter:16,style:o.marginBottom.lg,children:[e.jsx(Le,{span:6,children:e.jsx(Re,{"data-testid":"sessions-stat-total",style:{...o.card,boxShadow:"var(--shadow-sm)",border:"1px solid var(--color-border-secondary)"},children:e.jsx(ze,{title:e.jsx("span",{style:o.label,children:a("userSessions.totalSessions")}),value:u.length,valueStyle:o.heading3})})}),e.jsx(Le,{span:6,children:e.jsx(Re,{"data-testid":"sessions-stat-active",style:{...o.card,boxShadow:"var(--shadow-sm)",border:"1px solid var(--color-border-secondary)"},children:e.jsx(ze,{title:e.jsx("span",{style:o.label,children:a("userSessions.activeSessions")}),value:y.length,valueStyle:{...o.heading3,color:"var(--color-success)"}})})}),e.jsx(Le,{span:6,children:e.jsx(Re,{"data-testid":"sessions-stat-unique-users",style:{...o.card,boxShadow:"var(--shadow-sm)",border:"1px solid var(--color-border-secondary)"},children:e.jsx(ze,{title:e.jsx("span",{style:o.label,children:a("userSessions.uniqueUsers")}),value:new Set(u.map(e=>e.userEmail)).size,valueStyle:o.heading3})})}),e.jsx(Le,{span:6,children:e.jsx(Re,{"data-testid":"sessions-stat-average-duration",style:{...o.card,boxShadow:"var(--shadow-sm)",border:"1px solid var(--color-border-secondary)"},children:e.jsx(ze,{title:e.jsx("span",{style:o.label,children:a("userSessions.averageDuration")}),value:u.length>0?Math.round(u.reduce((e,t)=>e+Ee(t.lastActivity).diff(Ee(t.createdAt),"minute"),0)/u.length):0,suffix:e.jsx("span",{style:o.caption,children:a("userSessions.minutes")}),valueStyle:o.heading3})})})]}),e.jsx(Re,{title:e.jsxs(Ae,{style:o.flexStart,children:[e.jsx("span",{style:o.heading4,children:a("userSessions.title")}),e.jsx(De,{title:a("common:actions.refresh"),children:e.jsx(Se,{"data-testid":"sessions-refresh-button",icon:e.jsx(et,{style:o.icon.small}),onClick:()=>p(),loading:m,style:{...o.buttonSecondary,...o.touchTargetSmall},"aria-label":a("common:actions.refresh")})})]}),extra:e.jsx(Me,{"data-testid":"sessions-search-input",placeholder:a("userSessions.searchPlaceholder"),prefix:e.jsx(Je,{style:o.icon.small}),value:n,onChange:e=>i(e.target.value),style:{width:300,...c.formInput},autoComplete:"off"}),style:{...o.card,border:"1px solid var(--color-border-secondary)"},children:e.jsx("div",{style:d.tableContainer,children:e.jsx(Oe,{"data-testid":"sessions-table",columns:v,dataSource:h,rowKey:"requestId",loading:m,pagination:{pageSize:10,showSizeChanger:!0,showTotal:t=>e.jsx("span",{style:o.caption,children:a("userSessions.totalCount",{count:t})})},scroll:{x:1500},onRow:e=>({"data-testid":`sessions-row-${e.requestId}`})})})})]})};var Ft,Lt,Rt,zt,Ot,Ut,Zt,_t,Gt,qt,Vt,$t,Kt,Ht,Xt,Qt,Wt,Yt,Jt,es,ts,ss,as,rs={},ns={exports:{}};function is(){if(Lt)return Ft;Lt=1;return Ft="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"}function os(){if(zt)return Rt;zt=1;var e=is();function t(){}function s(){}return s.resetWarningCache=t,Rt=function(){function a(t,s,a,r,n,i){if(i!==e){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function r(){return a}a.isRequired=a;var n={array:a,bigint:a,bool:a,func:a,number:a,object:a,string:a,symbol:a,any:a,arrayOf:r,element:a,elementType:a,instanceOf:r,node:a,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:s,resetWarningCache:t};return n.PropTypes=n,n}}function ls(){return Ot||(Ot=1,ns.exports=os()()),ns.exports}function ds(){return Zt?Ut:(Zt=1,Ut={L:1,M:0,Q:3,H:2})}function cs(){return Gt?_t:(Gt=1,_t={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8})}function us(){if(Wt)return Qt;Wt=1;for(var e={glog:function(t){if(t<1)throw new Error("glog("+t+")");return e.LOG_TABLE[t]},gexp:function(t){for(;t<0;)t+=255;for(;t>=256;)t-=255;return e.EXP_TABLE[t]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},t=0;t<8;t++)e.EXP_TABLE[t]=1<<t;for(t=8;t<256;t++)e.EXP_TABLE[t]=e.EXP_TABLE[t-4]^e.EXP_TABLE[t-5]^e.EXP_TABLE[t-6]^e.EXP_TABLE[t-8];for(t=0;t<255;t++)e.LOG_TABLE[e.EXP_TABLE[t]]=t;return Qt=e}function ms(){if(Jt)return Yt;Jt=1;var e=us();function t(e,t){if(null==e.length)throw new Error(e.length+"/"+t);for(var s=0;s<e.length&&0==e[s];)s++;this.num=new Array(e.length-s+t);for(var a=0;a<e.length-s;a++)this.num[a]=e[a+s]}return t.prototype={get:function(e){return this.num[e]},getLength:function(){return this.num.length},multiply:function(s){for(var a=new Array(this.getLength()+s.getLength()-1),r=0;r<this.getLength();r++)for(var n=0;n<s.getLength();n++)a[r+n]^=e.gexp(e.glog(this.get(r))+e.glog(s.get(n)));return new t(a,0)},mod:function(s){if(this.getLength()-s.getLength()<0)return this;for(var a=e.glog(this.get(0))-e.glog(s.get(0)),r=new Array(this.getLength()),n=0;n<this.getLength();n++)r[n]=this.get(n);for(n=0;n<s.getLength();n++)r[n]^=e.gexp(e.glog(s.get(n))+a);return new t(r,0).mod(s)}},Yt=t}function ps(){if(as)return ss;as=1;var e=function(){if(Vt)return qt;Vt=1;var e=cs();function t(t){this.mode=e.MODE_8BIT_BYTE,this.data=t}return t.prototype={getLength:function(e){return this.data.length},write:function(e){for(var t=0;t<this.data.length;t++)e.put(this.data.charCodeAt(t),8)}},qt=t}(),t=function(){if(Kt)return $t;Kt=1;var e=ds();function t(e,t){this.totalCount=e,this.dataCount=t}return t.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],t.getRSBlocks=function(e,s){var a=t.getRsBlockTable(e,s);if(null==a)throw new Error("bad rs block @ typeNumber:"+e+"/errorCorrectLevel:"+s);for(var r=a.length/3,n=new Array,i=0;i<r;i++)for(var o=a[3*i+0],l=a[3*i+1],d=a[3*i+2],c=0;c<o;c++)n.push(new t(l,d));return n},t.getRsBlockTable=function(s,a){switch(a){case e.L:return t.RS_BLOCK_TABLE[4*(s-1)+0];case e.M:return t.RS_BLOCK_TABLE[4*(s-1)+1];case e.Q:return t.RS_BLOCK_TABLE[4*(s-1)+2];case e.H:return t.RS_BLOCK_TABLE[4*(s-1)+3];default:return}},$t=t}(),s=function(){if(Xt)return Ht;function e(){this.buffer=new Array,this.length=0}return Xt=1,e.prototype={get:function(e){var t=Math.floor(e/8);return 1==(this.buffer[t]>>>7-e%8&1)},put:function(e,t){for(var s=0;s<t;s++)this.putBit(1==(e>>>t-s-1&1))},getLengthInBits:function(){return this.length},putBit:function(e){var t=Math.floor(this.length/8);this.buffer.length<=t&&this.buffer.push(0),e&&(this.buffer[t]|=128>>>this.length%8),this.length++}},Ht=e}(),a=function(){if(ts)return es;ts=1;var e=cs(),t=ms(),s=us(),a=0,r=1,n=2,i=3,o=4,l=5,d=6,c=7,u={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(e){for(var t=e<<10;u.getBCHDigit(t)-u.getBCHDigit(u.G15)>=0;)t^=u.G15<<u.getBCHDigit(t)-u.getBCHDigit(u.G15);return(e<<10|t)^u.G15_MASK},getBCHTypeNumber:function(e){for(var t=e<<12;u.getBCHDigit(t)-u.getBCHDigit(u.G18)>=0;)t^=u.G18<<u.getBCHDigit(t)-u.getBCHDigit(u.G18);return e<<12|t},getBCHDigit:function(e){for(var t=0;0!=e;)t++,e>>>=1;return t},getPatternPosition:function(e){return u.PATTERN_POSITION_TABLE[e-1]},getMask:function(e,t,s){switch(e){case a:return(t+s)%2==0;case r:return t%2==0;case n:return s%3==0;case i:return(t+s)%3==0;case o:return(Math.floor(t/2)+Math.floor(s/3))%2==0;case l:return t*s%2+t*s%3==0;case d:return(t*s%2+t*s%3)%2==0;case c:return(t*s%3+(t+s)%2)%2==0;default:throw new Error("bad maskPattern:"+e)}},getErrorCorrectPolynomial:function(e){for(var a=new t([1],0),r=0;r<e;r++)a=a.multiply(new t([1,s.gexp(r)],0));return a},getLengthInBits:function(t,s){if(1<=s&&s<10)switch(t){case e.MODE_NUMBER:return 10;case e.MODE_ALPHA_NUM:return 9;case e.MODE_8BIT_BYTE:case e.MODE_KANJI:return 8;default:throw new Error("mode:"+t)}else if(s<27)switch(t){case e.MODE_NUMBER:return 12;case e.MODE_ALPHA_NUM:return 11;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 10;default:throw new Error("mode:"+t)}else{if(!(s<41))throw new Error("type:"+s);switch(t){case e.MODE_NUMBER:return 14;case e.MODE_ALPHA_NUM:return 13;case e.MODE_8BIT_BYTE:return 16;case e.MODE_KANJI:return 12;default:throw new Error("mode:"+t)}}},getLostPoint:function(e){for(var t=e.getModuleCount(),s=0,a=0;a<t;a++)for(var r=0;r<t;r++){for(var n=0,i=e.isDark(a,r),o=-1;o<=1;o++)if(!(a+o<0||t<=a+o))for(var l=-1;l<=1;l++)r+l<0||t<=r+l||0==o&&0==l||i==e.isDark(a+o,r+l)&&n++;n>5&&(s+=3+n-5)}for(a=0;a<t-1;a++)for(r=0;r<t-1;r++){var d=0;e.isDark(a,r)&&d++,e.isDark(a+1,r)&&d++,e.isDark(a,r+1)&&d++,e.isDark(a+1,r+1)&&d++,0!=d&&4!=d||(s+=3)}for(a=0;a<t;a++)for(r=0;r<t-6;r++)e.isDark(a,r)&&!e.isDark(a,r+1)&&e.isDark(a,r+2)&&e.isDark(a,r+3)&&e.isDark(a,r+4)&&!e.isDark(a,r+5)&&e.isDark(a,r+6)&&(s+=40);for(r=0;r<t;r++)for(a=0;a<t-6;a++)e.isDark(a,r)&&!e.isDark(a+1,r)&&e.isDark(a+2,r)&&e.isDark(a+3,r)&&e.isDark(a+4,r)&&!e.isDark(a+5,r)&&e.isDark(a+6,r)&&(s+=40);var c=0;for(r=0;r<t;r++)for(a=0;a<t;a++)e.isDark(a,r)&&c++;return s+Math.abs(100*c/t/t-50)/5*10}};return es=u}(),r=ms();function n(e,t){this.typeNumber=e,this.errorCorrectLevel=t,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var i=n.prototype;return i.addData=function(t){var s=new e(t);this.dataList.push(s),this.dataCache=null},i.isDark=function(e,t){if(e<0||this.moduleCount<=e||t<0||this.moduleCount<=t)throw new Error(e+","+t);return this.modules[e][t]},i.getModuleCount=function(){return this.moduleCount},i.make=function(){if(this.typeNumber<1){var e=1;for(e=1;e<40;e++){for(var r=t.getRSBlocks(e,this.errorCorrectLevel),n=new s,i=0,o=0;o<r.length;o++)i+=r[o].dataCount;for(o=0;o<this.dataList.length;o++){var l=this.dataList[o];n.put(l.mode,4),n.put(l.getLength(),a.getLengthInBits(l.mode,e)),l.write(n)}if(n.getLengthInBits()<=8*i)break}this.typeNumber=e}this.makeImpl(!1,this.getBestMaskPattern())},i.makeImpl=function(e,t){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var s=0;s<this.moduleCount;s++){this.modules[s]=new Array(this.moduleCount);for(var a=0;a<this.moduleCount;a++)this.modules[s][a]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(e,t),this.typeNumber>=7&&this.setupTypeNumber(e),null==this.dataCache&&(this.dataCache=n.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,t)},i.setupPositionProbePattern=function(e,t){for(var s=-1;s<=7;s++)if(!(e+s<=-1||this.moduleCount<=e+s))for(var a=-1;a<=7;a++)t+a<=-1||this.moduleCount<=t+a||(this.modules[e+s][t+a]=0<=s&&s<=6&&(0==a||6==a)||0<=a&&a<=6&&(0==s||6==s)||2<=s&&s<=4&&2<=a&&a<=4)},i.getBestMaskPattern=function(){for(var e=0,t=0,s=0;s<8;s++){this.makeImpl(!0,s);var r=a.getLostPoint(this);(0==s||e>r)&&(e=r,t=s)}return t},i.createMovieClip=function(e,t,s){var a=e.createEmptyMovieClip(t,s);this.make();for(var r=0;r<this.modules.length;r++)for(var n=1*r,i=0;i<this.modules[r].length;i++){var o=1*i;this.modules[r][i]&&(a.beginFill(0,100),a.moveTo(o,n),a.lineTo(o+1,n),a.lineTo(o+1,n+1),a.lineTo(o,n+1),a.endFill())}return a},i.setupTimingPattern=function(){for(var e=8;e<this.moduleCount-8;e++)null==this.modules[e][6]&&(this.modules[e][6]=e%2==0);for(var t=8;t<this.moduleCount-8;t++)null==this.modules[6][t]&&(this.modules[6][t]=t%2==0)},i.setupPositionAdjustPattern=function(){for(var e=a.getPatternPosition(this.typeNumber),t=0;t<e.length;t++)for(var s=0;s<e.length;s++){var r=e[t],n=e[s];if(null==this.modules[r][n])for(var i=-2;i<=2;i++)for(var o=-2;o<=2;o++)this.modules[r+i][n+o]=-2==i||2==i||-2==o||2==o||0==i&&0==o}},i.setupTypeNumber=function(e){for(var t=a.getBCHTypeNumber(this.typeNumber),s=0;s<18;s++){var r=!e&&1==(t>>s&1);this.modules[Math.floor(s/3)][s%3+this.moduleCount-8-3]=r}for(s=0;s<18;s++){r=!e&&1==(t>>s&1);this.modules[s%3+this.moduleCount-8-3][Math.floor(s/3)]=r}},i.setupTypeInfo=function(e,t){for(var s=this.errorCorrectLevel<<3|t,r=a.getBCHTypeInfo(s),n=0;n<15;n++){var i=!e&&1==(r>>n&1);n<6?this.modules[n][8]=i:n<8?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(n=0;n<15;n++){i=!e&&1==(r>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=i:n<9?this.modules[8][15-n-1+1]=i:this.modules[8][15-n-1]=i}this.modules[this.moduleCount-8][8]=!e},i.mapData=function(e,t){for(var s=-1,r=this.moduleCount-1,n=7,i=0,o=this.moduleCount-1;o>0;o-=2)for(6==o&&o--;;){for(var l=0;l<2;l++)if(null==this.modules[r][o-l]){var d=!1;i<e.length&&(d=1==(e[i]>>>n&1)),a.getMask(t,r,o-l)&&(d=!d),this.modules[r][o-l]=d,-1==--n&&(i++,n=7)}if((r+=s)<0||this.moduleCount<=r){r-=s,s=-s;break}}},n.PAD0=236,n.PAD1=17,n.createData=function(e,r,i){for(var o=t.getRSBlocks(e,r),l=new s,d=0;d<i.length;d++){var c=i[d];l.put(c.mode,4),l.put(c.getLength(),a.getLengthInBits(c.mode,e)),c.write(l)}var u=0;for(d=0;d<o.length;d++)u+=o[d].dataCount;if(l.getLengthInBits()>8*u)throw new Error("code length overflow. ("+l.getLengthInBits()+">"+8*u+")");for(l.getLengthInBits()+4<=8*u&&l.put(0,4);l.getLengthInBits()%8!=0;)l.putBit(!1);for(;!(l.getLengthInBits()>=8*u||(l.put(n.PAD0,8),l.getLengthInBits()>=8*u));)l.put(n.PAD1,8);return n.createBytes(l,o)},n.createBytes=function(e,t){for(var s=0,n=0,i=0,o=new Array(t.length),l=new Array(t.length),d=0;d<t.length;d++){var c=t[d].dataCount,u=t[d].totalCount-c;n=Math.max(n,c),i=Math.max(i,u),o[d]=new Array(c);for(var m=0;m<o[d].length;m++)o[d][m]=255&e.buffer[m+s];s+=c;var p=a.getErrorCorrectPolynomial(u),g=new r(o[d],p.getLength()-1).mod(p);l[d]=new Array(p.getLength()-1);for(m=0;m<l[d].length;m++){var h=m+g.getLength()-l[d].length;l[d][m]=h>=0?g.get(h):0}}var y=0;for(m=0;m<t.length;m++)y+=t[m].totalCount;var x=new Array(y),f=0;for(m=0;m<n;m++)for(d=0;d<t.length;d++)m<o[d].length&&(x[f++]=o[d][m]);for(m=0;m<i;m++)for(d=0;d<t.length;d++)m<l[d].length&&(x[f++]=l[d][m]);return x},ss=n}var gs,hs,ys={};function xs(){if(gs)return ys;gs=1,Object.defineProperty(ys,"__esModule",{value:!0});var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},t=r(ls()),s=i(),a=r(s);function r(e){return e&&e.__esModule?e:{default:e}}var n={bgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,bgD:t.default.string.isRequired,fgColor:t.default.oneOfType([t.default.object,t.default.string]).isRequired,fgD:t.default.string.isRequired,size:t.default.number.isRequired,title:t.default.string,viewBoxSize:t.default.number.isRequired,xmlns:t.default.string},o=(0,s.forwardRef)(function(t,s){var r=t.bgColor,n=t.bgD,i=t.fgD,o=t.fgColor,l=t.size,d=t.title,c=t.viewBoxSize,u=t.xmlns,m=void 0===u?"http://www.w3.org/2000/svg":u,p=function(e,t){var s={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s}(t,["bgColor","bgD","fgD","fgColor","size","title","viewBoxSize","xmlns"]);return a.default.createElement("svg",e({},p,{height:l,ref:s,viewBox:"0 0 "+c+" "+c,width:l,xmlns:m}),d?a.default.createElement("title",null,d):null,a.default.createElement("path",{d:n,fill:r}),a.default.createElement("path",{d:i,fill:o}))});return o.displayName="QRCodeSvg",o.propTypes=n,ys.default=o,ys}const fs=o(function(){if(hs)return rs;hs=1,Object.defineProperty(rs,"__esModule",{value:!0}),rs.QRCode=void 0;var e=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(e[a]=s[a])}return e},t=l(ls()),s=l(ds()),a=l(ps()),r=i(),n=l(r),o=l(xs());function l(e){return e&&e.__esModule?e:{default:e}}var d={bgColor:t.default.oneOfType([t.default.object,t.default.string]),fgColor:t.default.oneOfType([t.default.object,t.default.string]),level:t.default.string,size:t.default.number,value:t.default.string.isRequired},c=(0,r.forwardRef)(function(t,r){var i=t.bgColor,l=void 0===i?"#FFFFFF":i,d=t.fgColor,c=void 0===d?"#000000":d,u=t.level,m=void 0===u?"L":u,p=t.size,g=void 0===p?256:p,h=t.value,y=function(e,t){var s={};for(var a in e)t.indexOf(a)>=0||Object.prototype.hasOwnProperty.call(e,a)&&(s[a]=e[a]);return s}(t,["bgColor","fgColor","level","size","value"]),x=new a.default(-1,s.default[m]);x.addData(h),x.make();var f=x.modules;return n.default.createElement(o.default,e({},y,{bgColor:l,bgD:f.map(function(e,t){return e.map(function(e,s){return e?"":"M "+s+" "+t+" l 1 0 0 1 -1 0 Z"}).join(" ")}).join(" "),fgColor:c,fgD:f.map(function(e,t){return e.map(function(e,s){return e?"M "+s+" "+t+" l 1 0 0 1 -1 0 Z":""}).join(" ")}).join(" "),ref:r,size:g,viewBoxSize:f.length}))});return rs.QRCode=c,c.displayName="QRCode",c.propTypes=d,rs.default=c,rs}()),{Title:js,Text:bs,Paragraph:ws}=qe,vs=({open:t,onCancel:a})=>{const{t:r}=st("settings"),[n]=Ne.useForm(),[i]=Ne.useForm(),o=s(e=>e.auth.user?.email),{data:d,isLoading:c,refetch:u}=C(),m=P(),p=k(),[g,y]=l.useState(!1),[x,f]=l.useState(!1),[j,b]=l.useState(""),[w,v]=l.useState(!1),[I,B]=l.useState(!1),[D]=Ne.useForm(),[F,L]=l.useState(t);t!==F&&(L(t),t&&(v(!1),B(!1),b(""),D.resetFields())),l.useEffect(()=>{t&&u()},[t,u]);const R=async e=>{try{await m.mutateAsync({password:"",verificationCode:e.code,secret:j,confirmEnable:!0}),B(!1),v(!0),D.resetFields()}catch(t){}},z=(e,t)=>{const s=encodeURIComponent("Rediacc");return`otpauth://totp/${s}:${encodeURIComponent(t)}?secret=${e}&issuer=${s}`};return e.jsxs(e.Fragment,{children:[e.jsx(Ze,{title:e.jsxs(Ae,{children:[e.jsx(A,{style:{color:"var(--color-primary)"}}),e.jsx("span",{children:r("twoFactorAuth.title")})]}),open:t,onCancel:a,footer:null,className:N.Medium,"data-testid":"tfa-settings-main-modal",children:(()=>{if(c)return e.jsx("div",{style:{textAlign:"center",padding:`${h("XXXL")}px 0`},"data-testid":"tfa-settings-loading",children:e.jsx(Ge,{size:"large"})});if(I&&j)return e.jsxs(Ae,{direction:"vertical",size:h("LG"),style:{width:"100%"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(A,{style:{fontSize:M.FONT_SIZE.XXXXL,color:"var(--color-primary)"}}),e.jsx(js,{level:4,style:{marginTop:h("MD")},children:r("twoFactorAuth.verification.title")}),e.jsx(ws,{type:"secondary",children:r("twoFactorAuth.verification.subtitle")})]}),e.jsx(Ve,{"data-testid":"tfa-settings-setup-tabs",items:[{key:"qrcode",label:r("twoFactorAuth.setupMethods.qrCode"),children:e.jsxs(Ae,{direction:"vertical",align:"center",style:{width:"100%"},children:[e.jsx("div",{style:{background:"white",padding:h("MD"),borderRadius:M.BORDER_RADIUS.LG},children:e.jsx(fs,{value:z(j,o||""),size:200,"data-testid":"tfa-settings-qr-code"})}),e.jsx(bs,{type:"secondary",children:r("twoFactorAuth.scanQRCode")})]})},{key:"manual",label:r("twoFactorAuth.setupMethods.manual"),children:e.jsx(Ae,{direction:"vertical",style:{width:"100%"},children:e.jsx(_e,{message:r("twoFactorAuth.manualSetup.title"),description:e.jsxs(Ae,{direction:"vertical",style:{width:"100%"},children:[e.jsx(bs,{children:r("twoFactorAuth.manualSetup.instructions")}),e.jsxs(Ae.Compact,{style:{width:"100%",marginTop:h("SM")},children:[e.jsx(Me,{value:j,readOnly:!0,style:{fontFamily:"monospace"},"data-testid":"tfa-settings-secret-key-input"}),e.jsx(Se,{icon:e.jsx(je,{}),onClick:()=>{return e=j,navigator.clipboard.writeText(e),void Ue.success(r("twoFactorAuth.secretCopied"));var e},"data-testid":"tfa-settings-copy-secret-button"})]})]}),type:"info","data-testid":"tfa-settings-manual-setup-alert"})})}]}),e.jsxs(Ne,{form:D,layout:"vertical",onFinish:R,children:[e.jsx(Ne.Item,{name:"code",label:r("twoFactorAuth.verification.codeLabel"),rules:[{required:!0,message:r("twoFactorAuth.verification.codeRequired")},{len:6,message:r("twoFactorAuth.verification.codeLength")},{pattern:/^\d{6}$/,message:r("twoFactorAuth.verification.codeFormat")}],children:e.jsx(Me,{size:"large",placeholder:r("twoFactorAuth.verification.codePlaceholder"),maxLength:6,style:{textAlign:"center",fontSize:M.FONT_SIZE.XL,letterSpacing:M.LETTER_SPACING.WIDER},autoComplete:"off","data-testid":"tfa-settings-verification-input"})}),e.jsx(Ne.Item,{style:{marginBottom:0},children:e.jsxs(Ae,{style:{width:"100%",justifyContent:"space-between"},children:[e.jsx(Se,{onClick:()=>{B(!1),b(""),D.resetFields()},"data-testid":"tfa-settings-verification-cancel-button",children:r("common:general.cancel")}),e.jsx(Se,{type:"primary",htmlType:"submit",loading:m.isPending,style:{background:"var(--color-primary)",borderColor:"var(--color-primary)"},"data-testid":"tfa-settings-verification-submit-button",children:r("twoFactorAuth.verification.submit")})]})})]})]});if(w)return e.jsx($e,{status:"success",title:r("twoFactorAuth.enableSuccess.title"),subTitle:r("twoFactorAuth.enableSuccess.subtitle"),"data-testid":"tfa-settings-success-result",extra:e.jsxs(Ae,{direction:"vertical",size:h("LG"),style:{width:"100%"},children:[e.jsx(_e,{message:r("twoFactorAuth.enableSuccess.verified"),description:r("twoFactorAuth.enableSuccess.verifiedDescription"),type:"success",showIcon:!0,icon:e.jsx(T,{}),"data-testid":"tfa-settings-success-alert"}),e.jsx(Se,{type:"primary",size:"large",block:!0,onClick:()=>{v(!1),b(""),u()},style:{background:"var(--color-primary)",borderColor:"var(--color-primary)"},"data-testid":"tfa-settings-success-done-button",children:r("twoFactorAuth.done")})]})});const t=Boolean(d?.isTFAEnabled);return e.jsxs(Ae,{direction:"vertical",size:h("LG"),style:{width:"100%"},children:[e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(A,{style:{fontSize:M.FONT_SIZE.XXXXXXL,color:t?"var(--color-success)":"var(--color-text-quaternary)"}}),e.jsx(js,{level:4,style:{marginTop:h("MD")},children:r(t?"twoFactorAuth.status.enabled":"twoFactorAuth.status.disabled")}),e.jsx(ws,{type:"secondary",children:r(t?"twoFactorAuth.status.enabledDescription":"twoFactorAuth.status.disabledDescription")})]}),e.jsx(Re,{children:e.jsxs(Ae,{direction:"vertical",size:h("MD"),style:{width:"100%"},children:[e.jsx(js,{level:5,children:r("twoFactorAuth.whatIs.title")}),e.jsx(ws,{children:r("twoFactorAuth.whatIs.description")}),e.jsxs("ul",{children:[e.jsx("li",{children:r("twoFactorAuth.whatIs.benefit1")}),e.jsx("li",{children:r("twoFactorAuth.whatIs.benefit2")}),e.jsx("li",{children:r("twoFactorAuth.whatIs.benefit3")})]})]})}),t?e.jsx(Se,{type:"primary",danger:!0,size:"large",block:!0,icon:e.jsx(E,{}),onClick:()=>f(!0),"data-testid":"tfa-settings-disable-button",children:r("twoFactorAuth.disable")}):e.jsx(Se,{type:"primary",size:"large",block:!0,icon:e.jsx(T,{}),onClick:()=>y(!0),style:{background:"var(--color-primary)",borderColor:"var(--color-primary)"},"data-testid":"tfa-settings-enable-button",children:r("twoFactorAuth.enable")})]})})()}),e.jsx(Ze,{title:r("twoFactorAuth.enableModal.title"),open:g,onCancel:()=>{y(!1),n.resetFields()},footer:null,className:N.Medium,"data-testid":"tfa-settings-enable-modal",children:e.jsxs(Ne,{form:n,layout:"vertical",onFinish:async e=>{try{const t=await m.mutateAsync({password:e.password,generateOnly:!0});b(t.secret),y(!1),B(!0),n.resetFields()}catch(t){t.message?.includes("already enabled")&&(y(!1),n.resetFields())}},children:[e.jsx(_e,{message:r("twoFactorAuth.enableModal.warning"),description:r("twoFactorAuth.enableModal.warningDescription"),type:"warning",showIcon:!0,style:{marginBottom:h("LG")},"data-testid":"tfa-settings-enable-warning-alert"}),e.jsx(Ne.Item,{name:"password",label:r("twoFactorAuth.enableModal.passwordLabel"),rules:[{required:!0,message:r("twoFactorAuth.enableModal.passwordRequired")}],children:e.jsx(Me.Password,{prefix:e.jsx(S,{}),placeholder:r("twoFactorAuth.enableModal.passwordPlaceholder"),size:"large",autoComplete:"off","data-testid":"tfa-settings-enable-password-input"})}),e.jsx(Ne.Item,{style:{marginBottom:0},children:e.jsxs(Ae,{style:{width:"100%",justifyContent:"flex-end"},children:[e.jsx(Se,{onClick:()=>{y(!1),n.resetFields()},"data-testid":"tfa-settings-enable-cancel-button",children:r("common:general.cancel")}),e.jsx(Se,{type:"primary",htmlType:"submit",loading:m.isPending,style:{background:"var(--color-primary)",borderColor:"var(--color-primary)"},"data-testid":"tfa-settings-enable-submit-button",children:r("twoFactorAuth.enableModal.submit")})]})})]})}),e.jsx(Ze,{title:r("twoFactorAuth.disableModal.title"),open:x,onCancel:()=>{f(!1),i.resetFields()},footer:null,className:N.Medium,"data-testid":"tfa-settings-disable-modal",children:e.jsxs(Ne,{form:i,layout:"vertical",onFinish:async e=>{try{await p.mutateAsync({password:e.password,currentCode:e.code}),f(!1),i.resetFields()}catch(t){}},children:[e.jsx(_e,{message:r("twoFactorAuth.disableModal.warning"),description:r("twoFactorAuth.disableModal.warningDescription"),type:"error",showIcon:!0,style:{marginBottom:h("LG")},"data-testid":"tfa-settings-disable-warning-alert"}),e.jsx(Ne.Item,{name:"password",label:r("twoFactorAuth.disableModal.passwordLabel"),rules:[{required:!0,message:r("twoFactorAuth.disableModal.passwordRequired")}],children:e.jsx(Me.Password,{prefix:e.jsx(S,{}),placeholder:r("twoFactorAuth.disableModal.passwordPlaceholder"),size:"large",autoComplete:"off","data-testid":"tfa-settings-disable-password-input"})}),e.jsx(Ne.Item,{name:"code",label:r("twoFactorAuth.disableModal.codeLabel"),rules:[{required:!0,message:r("twoFactorAuth.disableModal.codeRequired")},{len:6,message:r("twoFactorAuth.disableModal.codeLength")},{pattern:/^\d{6}$/,message:r("twoFactorAuth.disableModal.codeFormat")}],children:e.jsx(Me,{size:"large",placeholder:r("twoFactorAuth.disableModal.codePlaceholder"),maxLength:6,style:{textAlign:"center",fontSize:M.FONT_SIZE.XL,letterSpacing:M.LETTER_SPACING.WIDER},autoComplete:"off","data-testid":"tfa-settings-disable-code-input"})}),e.jsx(Ne.Item,{style:{marginBottom:0},children:e.jsxs(Ae,{style:{width:"100%",justifyContent:"flex-end"},children:[e.jsx(Se,{onClick:()=>{f(!1),i.resetFields()},"data-testid":"tfa-settings-disable-cancel-button",children:r("common:general.cancel")}),e.jsx(Se,{type:"primary",danger:!0,htmlType:"submit",loading:p.isPending,"data-testid":"tfa-settings-disable-submit-button",children:r("twoFactorAuth.disableModal.submit")})]})})]})})]})},Cs=X({endpoint:"/UpdateCompanyVault",method:"post",invalidateKeys:["company-vault"],successMessage:()=>"Vault configuration updated successfully",errorMessage:"Failed to update vault configuration",transformData:e=>({...e,companyVault:rt(e.companyVault)})}),Ps=Q("Region","create","/CreateRegion","regionName"),ks=X({endpoint:"/UpdateRegionName",method:"put",invalidateKeys:["regions","dropdown-data"],successMessage:e=>`Region renamed to "${e.newRegionName}"`,errorMessage:"Failed to update region name"}),Ns=W("Region","/UpdateRegionVault","regionName","regionVault"),As=X({endpoint:"/DeleteRegion",method:"delete",invalidateKeys:["regions","dropdown-data"],successMessage:e=>`Region "${e}" deleted successfully`,errorMessage:"Failed to delete region",transformData:e=>({regionName:e})}),Ss=X({endpoint:"/CreateBridge",method:"post",invalidateKeys:["bridges","regions","dropdown-data"],successMessage:e=>`Bridge "${e.bridgeName}" created successfully`,errorMessage:"Failed to create bridge",transformData:e=>({...e,bridgeVault:e.bridgeVault||"{}"})}),Ms=X({endpoint:"/UpdateBridgeName",method:"put",invalidateKeys:["bridges","dropdown-data"],successMessage:e=>`Bridge renamed to "${e.newBridgeName}"`,errorMessage:"Failed to update bridge name"}),Ts=W("Bridge","/UpdateBridgeVault","bridgeName","bridgeVault"),Es=Q("Bridge","delete","/DeleteBridge","bridgeName",["regions"]),Is=X({endpoint:"/ResetBridgeAuthorization",method:"post",invalidateKeys:["bridges"],successMessage:e=>`Bridge authorization reset for "${e.bridgeName}"`,errorMessage:"Failed to reset bridge authorization"}),{Title:Bs,Text:Ds}=qe,Fs=()=>{const{t:i}=st("settings"),{t:o}=st("system"),{t:u}=st("resources"),{t:m}=st("common"),p=s(e=>e.ui.uiMode),[g,h]=l.useState(null),y=s(e=>e.auth.user),f=n(),j=d(),[b,w]=l.useState("users");l.useEffect(()=>{(async()=>{const e=await V.getMasterPassword();h(e)})()},[]),c.useEffect(()=>{w("users")},[p]);const[v,C]=l.useState(!1),[P,k]=l.useState(!1),[H,X]=l.useState(!1),[Q,W]=l.useState(!1),[Ee]=Ne.useForm(),[ze,Je]=l.useState(!1),[et,tt]=l.useState({open:!1}),[rt,ot]=l.useState(""),[lt,dt]=l.useState(!1),[ct,ut]=l.useState(!1),[mt,pt]=l.useState(!1),[gt,ht]=l.useState(null),[xt,ft]=l.useState(""),[jt,bt]=l.useState(""),[wt,vt]=l.useState(""),[Ct,Pt]=l.useState(!1),[kt,It]=l.useState(null),[Ft,Lt]=l.useState(""),[Rt,zt]=l.useState(null),[Ot,Ut]=l.useState({open:!1}),[Zt,_t]=l.useState({open:!1,bridgeName:"",isCloudManaged:!1}),[Gt,qt]=l.useState({open:!1,entityType:null,entityIdentifier:null}),[Vt,$t]=l.useState({open:!1,resourceType:"team",mode:"create"}),[Kt,Ht]=l.useState(null),[Xt,Qt]=l.useState(!1),[Wt]=Ne.useForm(),Yt=g?"update":"create",[Jt,es]=l.useState(Yt),[ts,ss]=l.useState("update"),[as,rs]=l.useState(!1),[ns,is]=l.useState(60),os=l.useRef(null),[ls,ds]=l.useState(!1),[cs,us]=l.useState(null),[ms,ps]=l.useState("skip"),[gs]=Ne.useForm(),{data:hs}=nt(),{data:ys}=(()=>{const e=I(B);return t({queryKey:["company-vault",e],queryFn:async()=>{const e=await x.get("/GetCompanyVault"),t=e.resultSets[1]?.data[0];return t?{vault:t.vaultContent||t.VaultContent||"{}",vaultVersion:t.vaultVersion||t.VaultVersion||1}:{vault:"{}",vaultVersion:1}},enabled:!!e})})(),xs=Cs(),{data:fs,refetch:js}=t({queryKey:["user-vault"],queryFn:async()=>{const e=await x.get("/GetUserVault"),t=e.resultSets[1]?.data[0];return t?{vault:t.vaultContent||"{}",vaultVersion:t.vaultVersion||1,userCredential:t.userCredential}:{vault:"{}",vaultVersion:1,userCredential:null}}}),bs=Bt(),ws=(()=>{const e=a();return r({mutationFn:async e=>{const t=await x.post("/UpdateCompanyBlockUserRequests",{blockUserRequests:e});return t.resultSets[0]?.data[0]},onSuccess:(t,s)=>{const a=s?"blocked":"unblocked",r=t?.DeactivatedCount||0;D("success",s&&r>0?`User requests ${a}. ${r} active sessions were terminated.`:`User requests ${a} successfully`),e.invalidateQueries({queryKey:["company"]}),e.invalidateQueries({queryKey:["users"]})},onError:()=>{D("error","Failed to update user request blocking status")}})})(),Fs=t({queryKey:["company-all-vaults"],queryFn:async()=>{const e=await x.get("/GetCompanyVaults"),t=e.resultSets[1]?.data||[],s=e.resultSets[2]?.data||[],a={};return t.forEach(e=>{const t=e.entityType;if(t){const s=t.charAt(0).toLowerCase()+t.slice(1)+("Company"===t?"":"s");a[s]||(a[s]=[]),a[s].push(e)}}),{...a,bridgesWithRequestToken:s,allVaults:t}},enabled:!1}),Ls=(()=>{const e=a();return r({mutationFn:async e=>{const t=await x.post("/UpdateCompanyVaults",{updates:JSON.stringify(e)});return t.resultSets[0]?.data[0]},onSuccess:t=>{const s=t?.Result||{},a=s.TotalUpdated||0,r=s.FailedCount||0;if(r>0){const e=at.t("system:dangerZone.updateMasterPassword.error.partialSuccess",{updated:a,failed:r});D("error",e)}e.invalidateQueries()},onError:e=>{const t=e?.message||at.t("system:dangerZone.updateMasterPassword.error.updateFailed");D("error",t)}})})(),Rs=t({queryKey:["company-export-data"],queryFn:async()=>{const e=await x.get("/ExportCompanyData"),t=e.resultSets[1]?.data[0];if(!t)throw new Error("No export data returned");return t},enabled:!1}),zs=(()=>{const e=a();return r({mutationFn:async e=>{const t=await x.post("/ImportCompanyData",{companyDataJson:e.companyDataJson,importMode:e.importMode||"skip"});return t.resultSets[0]?.data[0]},onSuccess:t=>{const s=t?.ImportedCount||0,a=t?.SkippedCount||0,r=t?.ErrorCount||0;let n=`Import completed: ${s} items imported`;a>0&&(n+=`, ${a} items skipped`),r>0&&(n+=`, ${r} errors`),D("success",n),e.invalidateQueries()},onError:e=>{D("error",e?.message||"Failed to import company data")}})})(),{data:Os=[],isLoading:Us}=t({queryKey:["users"],queryFn:async()=>{const e=await x.get("/GetCompanyUsers");return(e.resultSets[1]?.data||[]).map(e=>({...e,userEmail:e.UserEmail||e.userEmail,companyName:e.CompanyName||e.companyName,activated:void 0!==e.Activated?e.Activated:e.activated,permissionGroupName:e.PermissionsName||e.permissionsName||e.permissionGroupName,lastActive:e.lastActive}))}}),Zs=St(),_s=Mt(),Gs=Tt(),qs=Et(),{data:Vs=[],isLoading:$s}=t({queryKey:["permissionGroups"],queryFn:async()=>{const e=await x.get("/GetCompanyPermissionGroups");return(e.resultSets[1]?.data||[]).map(e=>({permissionGroupName:e.PermissionGroupName||e.permissionGroupName,userCount:e.UserCount||e.userCount||0,permissionCount:e.PermissionCount||e.permissionCount||0,permissions:e.Permissions?e.Permissions.split(",").map(e=>e.trim()).filter(e=>e):[]}))}}),{data:Ks}=t({queryKey:["permissionGroup",Hs=gt?.permissionGroupName||""],queryFn:async()=>{const e=await x.get("/GetPermissionGroupDetails",{permissionGroupName:Hs}),t=(e.resultSets[1]?.data||[]).map(e=>e.PermissionName||e.permissionName);return{permissionGroupName:Hs,permissions:t}},enabled:!!Hs});var Hs;const Xs=(()=>{const e=a();return r({mutationFn:async e=>await x.post("/CreatePermissionGroup",e),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["permissionGroups"]}),e.invalidateQueries({queryKey:["dropdown-data"]}),D("success",`Permission group "${s.permissionGroupName}" created successfully`)},onError:e=>{D("error",e.message||"Failed to create permission group")}})})(),Qs=(()=>{const e=a();return r({mutationFn:async e=>await x.delete("/DeletePermissionGroup",{permissionGroupName:e}),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["permissionGroups"]}),e.invalidateQueries({queryKey:["dropdown-data"]}),D("success",`Permission group "${s}" deleted successfully`)},onError:e=>{D("error",e.message||"Failed to delete permission group")}})})(),Ws=(()=>{const e=a();return r({mutationFn:async e=>await x.post("/CreatePermissionInGroup",e),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["permissionGroup",s.permissionGroupName]}),e.invalidateQueries({queryKey:["permissionGroups"]}),D("success",`Permission "${s.permissionName}" added to group`)},onError:e=>{D("error",e.message||"Failed to add permission to group")}})})(),Ys=(()=>{const e=a();return r({mutationFn:async e=>await x.delete("/DeletePermissionFromGroup",e),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["permissionGroup",s.permissionGroupName]}),e.invalidateQueries({queryKey:["permissionGroups"]}),D("success",`Permission "${s.permissionName}" removed from group`)},onError:e=>{D("error",e.message||"Failed to remove permission from group")}})})(),Js=(()=>{const e=a();return r({mutationFn:async e=>await x.put("/UpdateUserAssignedPermissions",e),onSuccess:(t,s)=>{e.invalidateQueries({queryKey:["users"]}),e.invalidateQueries({queryKey:["permissionGroup",s.permissionGroupName]}),D("success",`User assigned to permission group "${s.permissionGroupName}"`)},onError:e=>{D("error",e.message||"Failed to assign user to permission group")}})})(),{data:ea=[],isLoading:ta}=Y(),{data:sa=[]}=J(kt?.teamName||""),aa=ee(),ra=te(),na=se(),ia=ae(),oa=re(),la=ne(),{data:da,isLoading:ca}=((e=!0)=>t({queryKey:["regions"],queryFn:async()=>{const e=await x.get("/GetCompanyRegions");return it(e,"regionName")},enabled:e,staleTime:3e4}))(!0),ua=da||[],ma=Ps(),pa=ks(),ga=As(),ha=Ns(),{data:ya,isLoading:xa}=t({queryKey:["bridges",fa=Rt||void 0],queryFn:async()=>{if(!fa)return[];const e=await x.get("/GetRegionBridges",{regionName:fa}),t=e.resultSets?.[1]?.data||[];return Array.isArray(t)?t.filter(e=>e&&e.bridgeName):[]},enabled:!!fa,staleTime:3e4});var fa;const ja=ya||[],ba=Ss(),wa=Ms(),va=Es(),Ca=Ts(),Pa=Is();l.useEffect(()=>{ua.length>0&&!Rt&&zt(ua[0].regionName)},[ua,Rt]),l.useEffect(()=>{if(Xt){es(g?"update":"create")}},[Xt,g]),l.useEffect(()=>(as&&ns>0?os.current=setInterval(()=>{is(e=>e-1)},1e3):0===ns&&(f(F()),j("/login")),()=>{os.current&&clearInterval(os.current)}),[as,ns,f,j]);const ka=ie({resolver:oe(me),defaultValues:{newUserEmail:"",newUserPassword:""}}),Na=async()=>{if(xt.trim())try{await Xs.mutateAsync({permissionGroupName:xt}),dt(!1),ft("")}catch(e){}else D("error","Please enter a group name")},Aa=(e,t,s)=>{$t({open:!0,resourceType:e,mode:t,data:s}),Ht(s)},Sa=()=>{$t({open:!1,resourceType:"team",mode:"create"}),Ht(null)},Ma=[{title:"Group Name",dataIndex:"permissionGroupName",key:"permissionGroupName",render:t=>e.jsxs(Ae,{children:[e.jsx(ue,{style:{color:"#556b2f"}}),e.jsx("strong",{children:t})]})},{title:"Users",dataIndex:"userCount",key:"userCount",width:100,render:t=>e.jsx(Ke,{count:t,showZero:!0,children:e.jsx(L,{style:{fontSize:M.DIMENSIONS.ICON_MD}})})},{title:"Permissions",dataIndex:"permissionCount",key:"permissionCount",width:120,render:t=>e.jsx(Ke,{count:t,showZero:!0,style:{backgroundColor:"#556b2f"},children:e.jsx(S,{style:{fontSize:M.DIMENSIONS.ICON_MD}})})},{title:"Actions",key:"actions",width:350,render:(t,s)=>e.jsxs(Ae,{children:[e.jsx(De,{title:"Permissions",children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(S,{}),onClick:()=>{ht(s),ut(!0)},"data-testid":`system-permission-group-manage-button-${s.permissionGroupName}`,"aria-label":"Permissions"})}),e.jsx(De,{title:"Assign User",children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(L,{}),onClick:()=>{ht(s),pt(!0)},"data-testid":`system-permission-group-assign-user-button-${s.permissionGroupName}`,"aria-label":"Assign User"})}),e.jsx(De,{title:"Trace",children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(z,{}),onClick:()=>{qt({open:!0,entityType:"Permissions",entityIdentifier:s.permissionGroupName,entityName:s.permissionGroupName})},"data-testid":`system-permission-group-trace-button-${s.permissionGroupName}`,"aria-label":"Trace"})}),e.jsx(Be,{title:"Delete Permission Group",description:`Are you sure you want to delete group "${s.permissionGroupName}"?`,onConfirm:()=>(async e=>{try{await Qs.mutateAsync(e)}catch(t){}})(s.permissionGroupName),okText:"Yes",cancelText:"No",okButtonProps:{danger:!0},children:e.jsx(De,{title:"Delete",children:e.jsx(Se,{type:"primary",danger:!0,size:"small",icon:e.jsx(O,{}),loading:Qs.isPending,"data-testid":`system-permission-group-delete-button-${s.permissionGroupName}`,"aria-label":"Delete"})})})]})}],Ta=[{title:"Email",dataIndex:"userEmail",key:"userEmail",render:t=>e.jsxs(Ae,{children:[e.jsx(L,{style:{color:"#556b2f"}}),e.jsx("strong",{children:t})]})},{title:"Status",dataIndex:"activated",key:"activated",width:120,render:t=>t?e.jsx(Ie,{icon:e.jsx(T,{}),color:"success",children:"Active"}):e.jsx(Ie,{icon:e.jsx(ge,{}),color:"default",children:"Inactive"})},{title:"Permission Group",dataIndex:"permissionGroupName",key:"permissionGroupName",render:t=>t?e.jsx(Ie,{icon:e.jsx(ue,{}),color:"blue",children:t}):e.jsx(Ie,{color:"default",children:"No Group"})},{title:"Last Active",dataIndex:"lastActive",key:"lastActive",render:e=>e?new Date(e).toLocaleDateString():"Never"},{title:"Actions",key:"actions",width:300,render:(t,s)=>e.jsxs(Ae,{children:[e.jsx(De,{title:"Permissions",children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(ue,{}),onClick:()=>{tt({open:!0,user:s}),ot(s.permissionGroupName||"")},"data-testid":`system-user-permissions-button-${s.userEmail}`,"aria-label":"Permissions"})}),e.jsx(De,{title:"Trace",children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(z,{}),onClick:()=>{qt({open:!0,entityType:"User",entityIdentifier:s.userEmail,entityName:s.userEmail})},"data-testid":`system-user-trace-button-${s.userEmail}`,"aria-label":"Trace"})}),s.activated&&e.jsx(Be,{title:"Deactivate User",description:`Are you sure you want to deactivate "${s.userEmail}"?`,onConfirm:()=>(async e=>{try{await _s.mutateAsync(e)}catch(t){}})(s.userEmail),okText:"Yes",cancelText:"No",okButtonProps:{danger:!0},children:e.jsx(De,{title:"Deactivate",children:e.jsx(Se,{type:"primary",danger:!0,size:"small",icon:e.jsx(ge,{}),loading:_s.isPending,"data-testid":`system-user-deactivate-button-${s.userEmail}`,"aria-label":"Deactivate"})})})]})}],Ea=hs?.permissions||[],Ia=[{title:"Team Name",dataIndex:"teamName",key:"teamName",render:t=>e.jsxs(Ae,{children:[e.jsx(fe,{style:{color:"#556b2f"}}),e.jsx("strong",{children:t})]})},{title:"Members",dataIndex:"memberCount",key:"memberCount",width:100,render:t=>e.jsx(Ke,{count:t,showZero:!0,children:e.jsx(L,{style:{fontSize:M.DIMENSIONS.ICON_MD}})})},{title:"Machines",dataIndex:"machineCount",key:"machineCount",width:100,render:t=>e.jsxs(Ae,{children:[e.jsx(ye,{}),e.jsx("span",{children:t})]})},{title:"Repositories",dataIndex:"repoCount",key:"repoCount",width:120,render:t=>e.jsxs(Ae,{children:[e.jsx(be,{}),e.jsx("span",{children:t||0})]})},{title:"Storage",dataIndex:"storageCount",key:"storageCount",width:100,render:t=>e.jsxs(Ae,{children:[e.jsx(we,{}),e.jsx("span",{children:t||0})]})},...R.isEnabled("vaultVersionColumns")?[{title:"Vault Version",dataIndex:"vaultVersion",key:"vaultVersion",width:120,render:t=>e.jsx(Ie,{children:i("common:general.versionFormat",{version:t})})}]:[],{title:"Actions",key:"actions",width:350,render:(t,s)=>e.jsxs(Ae,{children:[e.jsx(De,{title:"Edit",children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(he,{}),onClick:()=>Aa("team","edit",s),"data-testid":`system-team-edit-button-${s.teamName}`,"aria-label":"Edit"})}),e.jsx(De,{title:"Members",children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(L,{}),onClick:()=>{It(s),Pt(!0)},"data-testid":`system-team-members-button-${s.teamName}`,"aria-label":"Members"})}),e.jsx(De,{title:"Trace",children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(z,{}),onClick:()=>{qt({open:!0,entityType:"Team",entityIdentifier:s.teamName,entityName:s.teamName})},"data-testid":`system-team-trace-button-${s.teamName}`,"aria-label":"Trace"})}),e.jsx(Be,{title:"Delete Team",description:`Are you sure you want to delete team "${s.teamName}"?`,onConfirm:()=>(async e=>{try{await na.mutateAsync(e)}catch(t){}})(s.teamName),okText:"Yes",cancelText:"No",okButtonProps:{danger:!0},children:e.jsx(De,{title:"Delete",children:e.jsx(Se,{type:"primary",danger:!0,size:"small",icon:e.jsx(O,{}),loading:na.isPending,"data-testid":`system-team-delete-button-${s.teamName}`,"aria-label":"Delete"})})})]})}],Ba=[{title:u("regions.regionName"),dataIndex:"regionName",key:"regionName",render:t=>e.jsxs(Ae,{children:[e.jsx(yt,{style:{color:"#556b2f"}}),e.jsx("strong",{children:t})]})},...R.isEnabled("disableBridge")?[]:[{title:u("regions.bridges"),dataIndex:"bridgeCount",key:"bridgeCount",width:120,render:t=>e.jsxs(Ae,{children:[e.jsx(U,{}),e.jsx("span",{children:t})]})}],...R.isEnabled("vaultVersionColumns")?[{title:u("general.vaultVersion"),dataIndex:"vaultVersion",key:"vaultVersion",width:120,render:t=>e.jsx(Ie,{children:i("common:general.versionFormat",{version:t})})}]:[],{title:u("general.actions"),key:"actions",width:300,render:(t,s)=>e.jsxs(Ae,{children:[e.jsx(De,{title:u("general.edit"),children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(he,{}),onClick:()=>Aa("region","edit",s),"data-testid":`system-region-edit-button-${s.regionName}`,"aria-label":u("general.edit")})}),e.jsx(De,{title:"Trace",children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(z,{}),onClick:()=>{qt({open:!0,entityType:"Region",entityIdentifier:s.regionName,entityName:s.regionName})},"data-testid":`system-region-trace-button-${s.regionName}`,"aria-label":"Trace"})}),e.jsx(Be,{title:u("regions.deleteRegion"),description:u("regions.confirmDelete",{regionName:s.regionName}),onConfirm:()=>(async e=>{try{await ga.mutateAsync(e),Rt===e&&zt(null)}catch(t){}})(s.regionName),okText:u("general.yes"),cancelText:u("general.no"),okButtonProps:{danger:!0},children:e.jsx(De,{title:u("general.delete"),children:e.jsx(Se,{type:"primary",danger:!0,size:"small",icon:e.jsx(O,{}),loading:ga.isPending,"data-testid":`system-region-delete-button-${s.regionName}`,"aria-label":u("general.delete")})})})]})}],Da=[{title:u("bridges.bridgeName"),dataIndex:"bridgeName",key:"bridgeName",render:(t,s)=>e.jsxs(Ae,{children:[e.jsx(U,{style:{color:"#556b2f"}}),e.jsx("strong",{children:t}),1===s.hasAccess&&e.jsx(Ie,{color:"green",icon:e.jsx(T,{}),children:"Access"})]})},{title:u("teams.machines"),dataIndex:"machineCount",key:"machineCount",width:120,render:t=>e.jsxs(Ae,{children:[e.jsx(ye,{}),e.jsx("span",{children:t})]})},{title:"Type",dataIndex:"isGlobalBridge",key:"isGlobalBridge",width:100,render:t=>t?e.jsx(Ie,{color:"purple",icon:e.jsx(we,{}),children:"Global"}):e.jsx(Ie,{color:"blue",icon:e.jsx(U,{}),children:"Regular"})},{title:"Management",dataIndex:"managementMode",key:"managementMode",width:120,render:t=>{if(!t)return e.jsx(Ie,{children:"Local"});const s="Cloud"===t?"green":"default",a="Cloud"===t?e.jsx(we,{}):e.jsx(ye,{});return e.jsx(Ie,{color:s,icon:a,children:t})}},...R.isEnabled("vaultVersionColumns")?[{title:u("general.vaultVersion"),dataIndex:"vaultVersion",key:"vaultVersion",width:120,render:t=>e.jsx(Ie,{children:i("common:general.versionFormat",{version:t})})}]:[],{title:u("general.actions"),key:"actions",width:M.DIMENSIONS.MODAL_WIDTH,render:(t,s)=>e.jsxs(Ae,{children:[e.jsx(De,{title:u("general.edit"),children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(he,{}),onClick:()=>Aa("bridge","edit",s),"data-testid":`system-bridge-edit-button-${s.bridgeName}`,"aria-label":u("general.edit")})}),e.jsx(De,{title:"Token",children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(S,{}),onClick:()=>Ut({open:!0,bridge:s}),"data-testid":`system-bridge-token-button-${s.bridgeName}`,"aria-label":"Token"})}),e.jsx(De,{title:"Reset Auth",children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(xe,{}),onClick:()=>_t({open:!0,bridgeName:s.bridgeName,isCloudManaged:!1}),"data-testid":`system-bridge-reset-auth-button-${s.bridgeName}`,"aria-label":"Reset Auth"})}),e.jsx(De,{title:"Trace",children:e.jsx(Se,{type:"primary",size:"small",icon:e.jsx(z,{}),onClick:()=>{qt({open:!0,entityType:"Bridge",entityIdentifier:s.bridgeName,entityName:s.bridgeName})},"data-testid":`system-bridge-trace-button-${s.bridgeName}`,"aria-label":"Trace"})}),e.jsx(Be,{title:u("bridges.deleteBridge"),description:u("bridges.confirmDelete",{bridgeName:s.bridgeName}),onConfirm:()=>(async e=>{try{await va.mutateAsync({regionName:e.regionName,bridgeName:e.bridgeName})}catch(t){}})(s),okText:u("general.yes"),cancelText:u("general.no"),okButtonProps:{danger:!0},children:e.jsx(De,{title:u("general.delete"),children:e.jsx(Se,{type:"primary",danger:!0,size:"small",icon:e.jsx(O,{}),loading:va.isPending,"data-testid":`system-bridge-delete-button-${s.bridgeName}`,"aria-label":u("general.delete")})})})]})}],Fa={key:"users",label:e.jsxs("span",{"data-testid":"system-tab-users",children:[e.jsx(L,{}),"Users"]}),children:e.jsx(ke,{title:e.jsxs(Ae,{children:[e.jsx("span",{style:{fontSize:M.FONT_SIZE.BASE,fontWeight:M.FONT_WEIGHT.MEDIUM},children:"Users"}),e.jsx("span",{style:{fontSize:14,color:"#666"},children:"Manage users and their permissions"})]}),loading:Us,data:Os,columns:Ta,rowKey:"userEmail",searchPlaceholder:"Search users...","data-testid":"system-user-table",actions:e.jsx(De,{title:i("system:actions.createUser"),children:e.jsx(Se,{type:"primary",icon:e.jsx(Z,{}),onClick:()=>Je(!0),"data-testid":"system-create-user-button","aria-label":i("system:actions.createUser")})})})},La={key:"permissions",label:e.jsxs("span",{"data-testid":"system-tab-permissions",children:[e.jsx(ue,{}),"Permissions"]}),children:e.jsx(ke,{title:e.jsxs(Ae,{children:[e.jsx("span",{style:{fontSize:M.FONT_SIZE.BASE,fontWeight:M.FONT_WEIGHT.MEDIUM},children:"Permission Groups"}),e.jsx("span",{style:{fontSize:14,color:"#666"},children:"Manage permission groups and their assignments"})]}),loading:$s,data:Vs,columns:Ma,rowKey:"permissionGroupName",searchPlaceholder:"Search permission groups...","data-testid":"system-permission-group-table",actions:e.jsx(De,{title:i("system:actions.createGroup"),children:e.jsx(Se,{type:"primary",icon:e.jsx(Z,{}),onClick:()=>dt(!0),"data-testid":"system-create-permission-group-button","aria-label":i("system:actions.createGroup")})})})},Ra={key:"teams",label:e.jsxs("span",{"data-testid":"system-tab-teams",children:[e.jsx(fe,{}),"Teams"]}),children:e.jsx(ke,{title:e.jsxs(Ae,{children:[e.jsx("span",{style:{fontSize:M.FONT_SIZE.BASE,fontWeight:M.FONT_WEIGHT.MEDIUM},children:"Teams"}),e.jsx("span",{style:{fontSize:14,color:"#666"},children:"Manage teams and their members"})]}),loading:ta,data:ea,columns:Ia,rowKey:"teamName",searchPlaceholder:"Search teams...","data-testid":"system-team-table",actions:e.jsx(De,{title:i("system:actions.createTeam"),children:e.jsx(Se,{type:"primary",icon:e.jsx(Z,{}),onClick:()=>Aa("team","create"),"data-testid":"system-create-team-button","aria-label":i("system:actions.createTeam")})})})},za="simple"===p?[Fa,Ra]:[Fa,Ra,La,{key:"sessions",label:e.jsxs("span",{"data-testid":"system-tab-sessions",children:[e.jsx(ye,{}),"User Sessions"]}),children:e.jsx(Dt,{})}];return e.jsxs("div",{style:{padding:24},children:[e.jsxs(Ae,{direction:"vertical",size:24,style:{width:"100%",marginBottom:24},children:[e.jsx(Bs,{level:3,children:i("title")}),e.jsxs(Fe,{gutter:[16,16],children:[e.jsx(Le,{xs:24,lg:12,children:e.jsx(Re,{style:{height:"100%"},children:e.jsxs(Ae,{direction:"vertical",size:16,style:{width:"100%"},children:[e.jsxs(Ae,{children:[e.jsx(_,{style:{fontSize:24,color:"#556b2f"}}),e.jsx(Bs,{level:4,style:{margin:0},children:i("company.title")})]}),e.jsx(Ds,{type:"secondary",children:i("company.description")}),e.jsx(De,{title:i("company.configureVault"),children:e.jsx(Se,{type:"primary",icon:e.jsx(G,{}),onClick:()=>C(!0),size:"large",style:{marginTop:16},"data-testid":"system-company-vault-button","aria-label":i("company.configureVault")})})]})})}),e.jsx(Le,{xs:24,lg:12,children:e.jsx(Re,{style:{height:"100%"},children:e.jsxs(Ae,{direction:"vertical",size:16,style:{width:"100%"},children:[e.jsxs(Ae,{children:[e.jsx(L,{style:{fontSize:24,color:"#556b2f"}}),e.jsx(Bs,{level:4,style:{margin:0},children:i("personal.title")})]}),e.jsx(Ds,{type:"secondary",children:i("personal.description")}),e.jsxs(Ae,{style:{marginTop:16},wrap:!0,children:[e.jsx(De,{title:i("personal.configureVault"),children:e.jsx(Se,{type:"primary",icon:e.jsx(G,{}),onClick:()=>{js(),k(!0)},size:"large","data-testid":"system-user-vault-button","aria-label":i("personal.configureVault")})}),e.jsx(De,{title:i("system:actions.changePassword"),children:e.jsx(Se,{type:"primary",icon:e.jsx(S,{}),onClick:()=>X(!0),size:"large","data-testid":"system-change-password-button","aria-label":i("system:actions.changePassword")})}),e.jsx(De,{title:i("system:actions.twoFactorAuth"),children:e.jsx(Se,{type:"primary",icon:e.jsx(A,{}),onClick:()=>W(!0),size:"large","data-testid":"system-two-factor-button","aria-label":i("system:actions.twoFactorAuth")})})]})]})})})]})]}),e.jsx(Bs,{level:3,style:{marginBottom:24},children:"Users, Teams & Permissions"}),e.jsx(Re,{children:e.jsx(Ve,{activeKey:b,onChange:w,items:za})}),e.jsx(Ze,{title:"Create Permission Group",open:lt,onCancel:()=>{dt(!1),ft("")},onOk:Na,confirmLoading:Xs.isPending,okButtonProps:{"data-testid":"modal-create-permission-group-ok"},cancelButtonProps:{"data-testid":"modal-create-permission-group-cancel"},children:e.jsx(Me,{placeholder:"Enter group name",value:xt,onChange:e=>ft(e.target.value),"data-testid":"system-permission-group-name-input",onPressEnter:Na,autoComplete:"off"})}),e.jsx(Ze,{title:`Manage Permissions - ${gt?.permissionGroupName}`,open:ct,onCancel:()=>{ut(!1),ht(null),bt("")},footer:null,className:N.Large,children:e.jsx(Ve,{items:[{key:"current",label:"Current Permissions",children:e.jsx(Re,{children:e.jsx(He,{dataSource:Ks?.permissions||[],renderItem:t=>e.jsx(He.Item,{actions:[e.jsx(De,{title:i("common:actions.remove"),children:e.jsx(Se,{type:"primary",danger:!0,size:"small",onClick:()=>(async e=>{if(gt)try{await Ys.mutateAsync({permissionGroupName:gt.permissionGroupName,permissionName:e})}catch(t){}})(t),loading:Ys.isPending,"data-testid":`permission-remove-button-${t}`,"aria-label":i("common:actions.remove")})},"remove")],children:e.jsx(He.Item.Meta,{avatar:e.jsx(S,{}),title:t})}),locale:{emptyText:"No permissions assigned"}})})},{key:"add",label:"Add Permissions",children:e.jsx(Ae,{direction:"vertical",style:{width:"100%"},size:16,children:e.jsxs(Ae,{style:{width:"100%"},children:[e.jsx(Te,{placeholder:"Select permission to add",style:{width:"100%"},value:jt,onChange:bt,showSearch:!0,filterOption:(e,t)=>String(t?.label??"").toLowerCase().includes(e.toLowerCase()),"data-testid":"permission-select-add",children:Ea.map(t=>e.jsx(Te.Option,{value:t.name,label:t.name,disabled:Ks?.permissions?.includes(t.name),"data-testid":`permission-option-${t.name}`,children:t.name},t.name))}),e.jsx(De,{title:i("system:actions.addPermission"),children:e.jsx(Se,{type:"primary",onClick:async()=>{if(gt&&jt)try{await Ws.mutateAsync({permissionGroupName:gt.permissionGroupName,permissionName:jt}),bt("")}catch(e){}},loading:Ws.isPending,disabled:!jt,"data-testid":"permission-add-button","aria-label":i("system:actions.addPermission"),icon:e.jsx(Z,{})})})]})})}]})}),e.jsx(Ze,{title:`Assign User to ${gt?.permissionGroupName}`,open:mt,onCancel:()=>{pt(!1),ht(null),vt("")},onOk:async()=>{if(gt&&wt)try{await Js.mutateAsync({userEmail:wt,permissionGroupName:gt.permissionGroupName}),pt(!1),vt("")}catch(e){}},confirmLoading:Js.isPending,okButtonProps:{"data-testid":"modal-assign-user-ok"},cancelButtonProps:{"data-testid":"modal-assign-user-cancel"},children:e.jsx(Te,{placeholder:"Select user",style:{width:"100%"},value:wt,onChange:vt,showSearch:!0,filterOption:(e,t)=>(t?.label??"").toLowerCase().includes(e.toLowerCase()),options:hs?.users?.map(e=>({value:e.value,label:e.label,disabled:"active"!==e.status}))||[],"data-testid":"assign-user-select"})}),e.jsx(Ze,{title:"Create User",open:ze,onCancel:()=>{Je(!1),ka.reset()},footer:null,children:e.jsx(At,{form:ka,fields:[{name:"newUserEmail",label:"Email",type:"email",placeholder:"user@example.com",required:!0},{name:"newUserPassword",label:"Password",type:"password",placeholder:"Enter password",required:!0}],onSubmit:async e=>{try{await Zs.mutateAsync({email:e.newUserEmail,password:e.newUserPassword}),Je(!1),ka.reset()}catch(t){}},submitText:"Create",cancelText:"Cancel",onCancel:()=>{Je(!1),ka.reset()},loading:Zs.isPending})}),e.jsx(Ze,{title:`Assign Permissions - ${et.user?.userEmail}`,open:et.open,onCancel:()=>{tt({open:!1}),ot("")},onOk:async()=>{if(et.user&&rt)try{await Gs.mutateAsync({userEmail:et.user.userEmail,permissionGroupName:rt}),tt({open:!1}),ot("")}catch(e){}},okText:"Assign",confirmLoading:Gs.isPending,okButtonProps:{"data-testid":"modal-assign-permissions-ok"},cancelButtonProps:{"data-testid":"modal-assign-permissions-cancel"},children:e.jsx(Ne,{layout:"vertical",children:e.jsx(Ne.Item,{label:"Permission Group",children:e.jsx(Te,{value:rt,onChange:ot,placeholder:"Select permission group",options:Vs?.map(e=>({value:e.permissionGroupName,label:`${e.permissionGroupName} (${e.userCount} users, ${e.permissionCount} permissions)`})),allowClear:!0,"data-testid":"user-permission-group-select"})})})}),e.jsx(le,{open:v,onCancel:()=>C(!1),onSave:async(e,t)=>{await xs.mutateAsync({companyVault:e,vaultVersion:t}),C(!1)},entityType:"COMPANY",title:i("company.modalTitle"),initialVault:ys?.vault||"{}",initialVersion:ys?.vaultVersion||1,loading:xs.isPending}),e.jsx(le,{open:P,onCancel:()=>k(!1),onSave:async(e,t)=>{await bs.mutateAsync({userVault:e,vaultVersion:t}),k(!1)},entityType:"USER",title:i("personal.modalTitle"),initialVault:fs?.vault||"{}",initialVersion:fs?.vaultVersion||1,loading:bs.isPending}),e.jsx(Ze,{title:`Manage Team Members - ${kt?.teamName}`,open:Ct,onCancel:()=>{Pt(!1),It(null),Lt("")},footer:null,className:N.Large,children:e.jsx(Ve,{items:[{key:"current",label:"Current Members",children:e.jsx(Re,{children:e.jsx(He,{dataSource:sa,renderItem:t=>e.jsx(He.Item,{actions:[e.jsx(Be,{title:"Remove Team Member",description:`Are you sure you want to remove "${t.userEmail}" from this team?`,onConfirm:()=>(async e=>{if(kt)try{await la.mutateAsync({teamName:kt.teamName,removeUserEmail:e})}catch(t){}})(t.userEmail),okText:"Yes",cancelText:"No",okButtonProps:{danger:!0},children:e.jsx(De,{title:i("common:actions.remove"),children:e.jsx(Se,{type:"primary",danger:!0,size:"small",loading:la.isPending,icon:e.jsx(O,{}),"aria-label":i("common:actions.remove")})})},"remove")],children:e.jsx(He.Item.Meta,{avatar:e.jsx(L,{}),title:t.userEmail,description:e.jsxs(Ae,{size:"small",children:[t.isMember&&e.jsx(Ie,{color:"green",children:"Member"}),t.hasAccess&&e.jsx(Ie,{color:"blue",children:"Has Access"})]})})}),locale:{emptyText:"No members in this team"}})})},{key:"add",label:"Add Members",children:e.jsx(Ae,{direction:"vertical",style:{width:"100%"},size:16,children:e.jsxs(Ae,{style:{width:"100%"},children:[e.jsx(Te,{placeholder:"Select user to add",style:{width:"100%"},value:Ft,onChange:Lt,showSearch:!0,filterOption:(e,t)=>String(t?.label??"").toLowerCase().includes(e.toLowerCase()),options:hs?.users?.filter(e=>"active"===e.status)?.map(e=>({value:e.value,label:e.label,disabled:sa.some(t=>t.userEmail===e.value&&t.isMember)}))||[]}),e.jsx(De,{title:i("system:actions.addMember"),children:e.jsx(Se,{type:"primary",onClick:async()=>{if(kt&&Ft)try{await oa.mutateAsync({teamName:kt.teamName,newUserEmail:Ft}),Lt("")}catch(e){}},loading:oa.isPending,disabled:!Ft,icon:e.jsx(Z,{}),"aria-label":i("system:actions.addMember")})})]})})}]})}),R.isEnabled("regionsInfrastructure")&&e.jsxs(e.Fragment,{children:[e.jsx(Bs,{level:3,style:{marginTop:48,marginBottom:24},children:o("regionsInfrastructure.title")}),e.jsx(Re,{children:e.jsxs(Fe,{gutter:[24,24],children:[e.jsx(Le,{span:24,children:e.jsx(ke,{title:e.jsxs(Ae,{children:[e.jsx("span",{style:{fontSize:M.FONT_SIZE.BASE,fontWeight:M.FONT_WEIGHT.MEDIUM},children:u("regions.title")}),e.jsx("span",{style:{fontSize:14,color:"#666"},children:u("regions.selectRegionPrompt")})]}),loading:ca,data:ua,columns:Ba,rowKey:"regionName",searchPlaceholder:u("regions.searchRegions"),"data-testid":"system-region-table",actions:e.jsx(De,{title:u("regions.createRegion"),children:e.jsx(Se,{type:"primary",icon:e.jsx(Z,{}),onClick:()=>Aa("region","create"),"data-testid":"system-create-region-button","aria-label":u("regions.createRegion")})}),rowSelection:{type:"radio",selectedRowKeys:Rt?[Rt]:[],onChange:e=>{zt(e[0]||null)}},onRow:e=>({onClick:()=>zt(e.regionName),className:Rt===e.regionName?"selected-row":"",style:{cursor:"pointer"}})})}),!R.isEnabled("disableBridge")&&e.jsx(Le,{span:24,children:e.jsxs(Re,{children:[e.jsxs("div",{style:{marginBottom:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxs("div",{children:[e.jsx(Bs,{level:4,style:{margin:0},children:Rt?u("regions.bridgesInRegion",{region:Rt}):u("bridges.title")}),!Rt&&e.jsx(Ds,{type:"secondary",style:{fontSize:14},children:u("regions.selectRegionToView")})]}),Rt&&e.jsx(De,{title:u("bridges.createBridge"),children:e.jsx(Se,{type:"primary",icon:e.jsx(Z,{}),onClick:()=>{Aa("bridge","create",{regionName:Rt})},"data-testid":"system-create-bridge-button","aria-label":u("bridges.createBridge")})})]}),Rt?xa?e.jsxs("div",{style:{textAlign:"center",padding:"100px 0"},children:[e.jsx(Ge,{size:"large"}),e.jsx("div",{style:{marginTop:16,color:"var(--ant-color-text-secondary)"},children:i("common:general.loading")})]}):e.jsx(Oe,{columns:Da,dataSource:ja,rowKey:"bridgeName",pagination:{total:ja.length||0,pageSize:10,showSizeChanger:!0,showTotal:e=>u("bridges.totalBridges",{total:e})},locale:{emptyText:u("bridges.noBridges")},"data-testid":"system-bridge-table"}):e.jsx(Xe,{image:Xe.PRESENTED_IMAGE_SIMPLE,description:u("regions.selectRegionPrompt"),style:{padding:"40px 0"}})]})})]})})]}),!R.isEnabled("disableBridge")&&e.jsx(Ze,{title:`Bridge Token - ${Ot.bridge?.bridgeName||""}`,open:Ot.open,onCancel:()=>Ut({open:!1}),footer:[e.jsx(Se,{onClick:()=>Ut({open:!1}),children:"Close"},"close")],className:N.Medium,children:(()=>{const t=Ot.bridge;if(!t)return null;const s=t.bridgeCredentials;return 0===t.hasAccess?e.jsx(_e,{message:"Access Denied",description:"You don't have the necessary permissions to view bridge credentials. Please contact an administrator.",type:"error",showIcon:!0}):s?e.jsxs(Ae,{direction:"vertical",size:"large",style:{width:"100%"},children:[e.jsx(_e,{message:"Bridge Authentication Token",description:"This token is used by the bridge to authenticate its first connection to the system. After the first successful use, the bridge will receive a new token for subsequent requests. If this token has already been used, you'll need to use 'Reset Auth' to generate new credentials.",type:"warning",showIcon:!0}),e.jsxs("div",{children:[e.jsx(Ds,{strong:!0,children:"Token:"}),e.jsxs(Ae.Compact,{style:{marginTop:8,width:"100%"},children:[e.jsx(Me,{value:s,readOnly:!0,style:{width:"100%"},autoComplete:"off"}),e.jsx(Se,{icon:e.jsx(je,{}),onClick:()=>{navigator.clipboard.writeText(s),Ue.success("Token copied to clipboard")}})]})]}),e.jsx(_e,{message:"Important",description:"Keep this token secure. It provides access to process queue items on behalf of your organization. If you suspect the token has been compromised, use 'Reset Auth' immediately.",type:"info",showIcon:!0})]}):e.jsx(_e,{message:"No Bridge Token Available",description:"Bridge credentials are not available. This could be because you don't have the necessary permissions, or the bridge credentials vault has not been created. Administrators can use 'Reset Auth' to generate new credentials.",type:"info",showIcon:!0})})()}),e.jsx(pe,{open:Gt.open,onCancel:()=>qt({open:!1,entityType:null,entityIdentifier:null}),entityType:Gt.entityType,entityIdentifier:Gt.entityIdentifier,entityName:Gt.entityName}),e.jsx(de,{open:Vt.open,onCancel:Sa,resourceType:Vt.resourceType,mode:Vt.mode,existingData:Vt.data||Kt,onSubmit:async e=>{try{switch(Vt.resourceType){case"team":if("create"===Vt.mode)await aa.mutateAsync(e);else if("edit"===Vt.mode){e.teamName!==Kt.teamName&&await ra.mutateAsync({currentTeamName:Kt.teamName,newTeamName:e.teamName});const t=e.teamVault;t&&t!==Kt.vaultContent&&await ia.mutateAsync({teamName:e.teamName||Kt.teamName,teamVault:t,vaultVersion:Kt.vaultVersion+1})}break;case"region":if("create"===Vt.mode)await ma.mutateAsync(e);else if("edit"===Vt.mode){e.regionName!==Kt.regionName&&await pa.mutateAsync({currentRegionName:Kt.regionName,newRegionName:e.regionName});const t=e.regionVault;t&&t!==Kt.vaultContent&&await ha.mutateAsync({regionName:e.regionName||Kt.regionName,regionVault:t,vaultVersion:Kt.vaultVersion+1})}break;case"bridge":if("create"===Vt.mode)await ba.mutateAsync(e);else if("edit"===Vt.mode){e.bridgeName!==Kt.bridgeName&&await wa.mutateAsync({regionName:Kt.regionName,currentBridgeName:Kt.bridgeName,newBridgeName:e.bridgeName});const t=e.bridgeVault;t&&t!==Kt.vaultContent&&await Ca.mutateAsync({regionName:e.regionName||Kt.regionName,bridgeName:e.bridgeName||Kt.bridgeName,bridgeVault:t,vaultVersion:Kt.vaultVersion+1})}}Sa()}catch(t){}},onUpdateVault:"edit"===Vt.mode?async(e,t)=>{if(Kt)try{switch(Vt.resourceType){case"team":await ia.mutateAsync({teamName:Kt.teamName,teamVault:e,vaultVersion:t});break;case"region":await ha.mutateAsync({regionName:Kt.regionName,regionVault:e,vaultVersion:t});break;case"bridge":await Ca.mutateAsync({regionName:Kt.regionName,bridgeName:Kt.bridgeName,bridgeVault:e,vaultVersion:t})}}catch(s){}}:void 0,isSubmitting:aa.isPending||ra.isPending||ma.isPending||pa.isPending||ba.isPending||wa.isPending,isUpdatingVault:ia.isPending||ha.isPending||Ca.isPending}),R.isEnabled("dangerZone")&&e.jsxs(e.Fragment,{children:[e.jsxs(Bs,{level:3,style:{marginTop:48,marginBottom:24,color:"#ff4d4f"},children:[e.jsx(E,{})," ",o("dangerZone.title")]}),e.jsx(Re,{style:{borderColor:"#ff4d4f"},children:e.jsxs(Ae,{direction:"vertical",size:24,style:{width:"100%"},children:[e.jsxs(Fe,{gutter:[16,16],align:"middle",children:[e.jsx(Le,{xs:24,lg:16,children:e.jsxs(Ae,{direction:"vertical",size:8,children:[e.jsx(Bs,{level:5,style:{margin:0},children:o("dangerZone.blockUserRequests.title")}),e.jsx(Ds,{type:"secondary",children:o("dangerZone.blockUserRequests.description")})]})}),e.jsx(Le,{xs:24,lg:8,style:{textAlign:"right"},children:e.jsxs(Ae,{children:[e.jsx(Be,{title:o("dangerZone.blockUserRequests.confirmBlock.title"),description:e.jsxs(Ae,{direction:"vertical",children:[e.jsx(Ds,{children:o("dangerZone.blockUserRequests.confirmBlock.description")}),e.jsxs("ul",{style:{margin:"8px 0",paddingLeft:20},children:[e.jsx("li",{children:o("dangerZone.blockUserRequests.confirmBlock.effect1")}),e.jsx("li",{children:o("dangerZone.blockUserRequests.confirmBlock.effect2")}),e.jsx("li",{children:o("dangerZone.blockUserRequests.confirmBlock.effect3")})]}),e.jsx(Ds,{strong:!0,children:o("dangerZone.blockUserRequests.confirmBlock.confirm")})]}),onConfirm:()=>ws.mutate(!0),okText:o("dangerZone.blockUserRequests.confirmBlock.okText"),cancelText:m("general.cancel"),okButtonProps:{danger:!0},children:e.jsx(De,{title:o("dangerZone.blockUserRequests.blockButton"),children:e.jsx(Se,{type:"primary",danger:!0,icon:e.jsx(q,{}),loading:ws.isPending,"aria-label":o("dangerZone.blockUserRequests.blockButton")})})}),e.jsx(Be,{title:o("dangerZone.blockUserRequests.confirmUnblock.title"),description:o("dangerZone.blockUserRequests.confirmUnblock.description"),onConfirm:()=>ws.mutate(!1),okText:o("dangerZone.blockUserRequests.confirmUnblock.okText"),cancelText:m("general.cancel"),children:e.jsx(De,{title:o("dangerZone.blockUserRequests.unblockButton"),children:e.jsx(Se,{type:"primary",icon:e.jsx(Nt,{}),loading:ws.isPending,"aria-label":o("dangerZone.blockUserRequests.unblockButton")})})})]})})]}),e.jsx("hr",{style:{margin:0,borderColor:"#f0f0f0"}}),e.jsxs(Fe,{gutter:[16,16],align:"middle",children:[e.jsx(Le,{xs:24,lg:16,children:e.jsxs(Ae,{direction:"vertical",size:8,children:[e.jsx(Bs,{level:5,style:{margin:0},children:o("dangerZone.exportVaults.title")}),e.jsx(Ds,{type:"secondary",children:o("dangerZone.exportVaults.description")})]})}),e.jsx(Le,{xs:24,lg:8,style:{textAlign:"right"},children:e.jsx(De,{title:o("dangerZone.exportVaults.button"),children:e.jsx(Se,{type:"primary",icon:e.jsx(ve,{}),onClick:async()=>{try{const e=await Fs.refetch();if(e.data){const t=(new Date).toISOString().replace(/[:.]/g,"-").split("T")[0],{allVaults:s,bridgesWithRequestToken:a,...r}=e.data,n={exportDate:(new Date).toISOString(),vaults:r,bridgesWithRequestToken:a,metadata:{totalVaults:s.length,vaultTypes:Object.keys(r).map(e=>({type:e,count:r[e]?.length||0}))}},i=new Blob([JSON.stringify(n,null,2)],{type:"application/json"}),l=URL.createObjectURL(i),d=document.createElement("a");d.href=l,d.download=`company-vaults-export-${t}.json`,document.body.appendChild(d),d.click(),document.body.removeChild(d),URL.revokeObjectURL(l),D("success",o("dangerZone.exportVaults.success"))}}catch(e){D("error",o("dangerZone.exportVaults.error"))}},loading:Fs.isFetching,"data-testid":"system-export-vaults-button","aria-label":o("dangerZone.exportVaults.button")})})})]}),e.jsx("hr",{style:{margin:0,borderColor:"#f0f0f0"}}),e.jsxs(Fe,{gutter:[16,16],align:"middle",children:[e.jsx(Le,{xs:24,lg:16,children:e.jsxs(Ae,{direction:"vertical",size:8,children:[e.jsx(Bs,{level:5,style:{margin:0},children:o("dangerZone.exportData.title")}),e.jsx(Ds,{type:"secondary",children:o("dangerZone.exportData.description")})]})}),e.jsx(Le,{xs:24,lg:8,style:{textAlign:"right"},children:e.jsx(De,{title:o("dangerZone.exportData.button"),children:e.jsx(Se,{type:"primary",icon:e.jsx(Ce,{}),onClick:async()=>{try{const e=await Rs.refetch();if(e.data){const t=(new Date).toISOString().replace(/[:.]/g,"-").split("T")[0],s=e.data,a=new Blob([JSON.stringify(s,null,2)],{type:"application/json"}),r=URL.createObjectURL(a),n=document.createElement("a");n.href=r,n.download=`company-data-export-${t}.json`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r),D("success",o("dangerZone.exportData.success"))}}catch(e){D("error",o("dangerZone.exportData.error"))}},loading:Rs.isFetching,"data-testid":"system-export-data-button","aria-label":o("dangerZone.exportData.button")})})})]}),e.jsx("hr",{style:{margin:0,borderColor:"#f0f0f0"}}),e.jsxs(Fe,{gutter:[16,16],align:"middle",children:[e.jsx(Le,{xs:24,lg:16,children:e.jsxs(Ae,{direction:"vertical",size:8,children:[e.jsx(Bs,{level:5,style:{margin:0},children:o("dangerZone.importData.title")}),e.jsx(Ds,{type:"secondary",children:o("dangerZone.importData.description")})]})}),e.jsx(Le,{xs:24,lg:8,style:{textAlign:"right"},children:e.jsx(De,{title:o("dangerZone.importData.button"),children:e.jsx(Se,{type:"primary",danger:!0,icon:e.jsx(Pe,{}),onClick:()=>ds(!0),"data-testid":"system-import-data-button","aria-label":o("dangerZone.importData.button")})})})]}),e.jsx("hr",{style:{margin:0,borderColor:"#f0f0f0"}}),e.jsxs(Fe,{gutter:[16,16],align:"middle",children:[e.jsx(Le,{xs:24,lg:16,children:e.jsxs(Ae,{direction:"vertical",size:8,children:[e.jsx(Bs,{level:5,style:{margin:0},children:o("dangerZone.updateMasterPassword.title")}),e.jsx(Ds,{type:"secondary",children:o("dangerZone.updateMasterPassword.description")}),e.jsxs("ul",{style:{margin:"8px 0 0 20px",fontSize:14,color:"rgba(0, 0, 0, 0.45)"},children:[e.jsx("li",{children:o("dangerZone.updateMasterPassword.effect1")}),e.jsx("li",{children:o("dangerZone.updateMasterPassword.effect2")}),e.jsx("li",{children:o("dangerZone.updateMasterPassword.effect3")})]}),e.jsx(Ds,{type:"secondary",strong:!0,style:{display:"block",marginTop:8},children:o("dangerZone.updateMasterPassword.warning")})]})}),e.jsx(Le,{xs:24,lg:8,style:{textAlign:"right"},children:e.jsx(De,{title:o("dangerZone.updateMasterPassword.button"),children:e.jsx(Se,{type:"primary",danger:!0,icon:e.jsx(S,{}),onClick:()=>Qt(!0),"data-testid":"system-update-master-password-button","aria-label":o("dangerZone.updateMasterPassword.button")})})})]})]})})]}),e.jsx(Ze,{title:o(g?"dangerZone.updateMasterPassword.modal.title":"dangerZone.updateMasterPassword.modal.operationCreate"),open:Xt,onCancel:()=>{Qt(!1),Wt.resetFields(),es(Yt)},footer:null,className:N.Medium,children:e.jsxs(Ne,{layout:"vertical",form:Wt,onFinish:async e=>{if(!Ls.isPending)try{const a=await Fs.refetch();if(!a.data||!a.data.allVaults)return void D("error",o("dangerZone.updateMasterPassword.error.fetchVaults"));const r=[],n="remove"===Jt?"":e.password;for(const e of a.data.allVaults)if(e.decryptedVault&&e.credential&&e.vaultName)try{let s=e.decryptedVault;if(g&&"create"!==Jt)try{s.match(/^[A-Za-z0-9+/]+=*$/)&&(s=await $(s,g))}catch(t){}let a=s;a="remove"===Jt?s:await K(s,n),r.push({credential:e.credential,name:e.vaultName,content:a,version:e.version||1})}catch(s){D("error",`Failed to process vault ${e.vaultName}`)}if(0===r.length)return void D("error",o("dangerZone.updateMasterPassword.error.noVaults"));await Ls.mutateAsync(r),await ws.mutateAsync(!1),await V.setMasterPassword("remove"===Jt?null:n),h("remove"===Jt?null:n),Qt(!1),Wt.resetFields(),ss(Jt),es(Yt),is(60),rs(!0)}catch(s){}},children:[g&&e.jsx(Ne.Item,{label:o("dangerZone.updateMasterPassword.modal.operationType"),style:{marginBottom:24},children:e.jsx(Qe.Group,{value:Jt,onChange:e=>{es(e.target.value),Wt.resetFields(["password","confirmPassword"])},children:e.jsxs(Ae,{direction:"vertical",children:[e.jsx(Qe,{value:"update",children:o("dangerZone.updateMasterPassword.modal.operationUpdate")}),e.jsx(Qe,{value:"remove",children:o("dangerZone.updateMasterPassword.modal.operationRemove")})]})})}),e.jsx(_e,{message:e.jsxs(e.Fragment,{children:["⚠️"," ",o("dangerZone.updateMasterPassword.modal.warningTitle").replace("⚠️ ","")]}),description:e.jsxs(Ae,{direction:"vertical",size:8,children:[e.jsx(Ds,{children:o(`dangerZone.updateMasterPassword.modal.warningDescription${Jt.charAt(0).toUpperCase()+Jt.slice(1)}`)}),e.jsxs("ul",{style:{margin:"4px 0",paddingLeft:20},children:[e.jsx("li",{children:o("dangerZone.updateMasterPassword.modal.warningEffect1")}),e.jsx("li",{children:o("dangerZone.updateMasterPassword.modal.warningEffect2")}),e.jsx("li",{children:o(`dangerZone.updateMasterPassword.modal.warningEffect3${Jt.charAt(0).toUpperCase()+Jt.slice(1)}`)}),"remove"!==Jt&&e.jsx("li",{children:o("dangerZone.updateMasterPassword.modal.warningEffect4")})]}),e.jsx(Ds,{strong:!0,children:o("dangerZone.updateMasterPassword.modal.warningPermanent")}),e.jsx(Ds,{strong:!0,style:{color:"#ff4d4f"},children:o("remove"===Jt?"dangerZone.updateMasterPassword.modal.warningSecureRemove":"dangerZone.updateMasterPassword.modal.warningSecure")})]}),type:"warning",showIcon:!0,style:{marginBottom:24}}),"remove"!==Jt&&e.jsxs(e.Fragment,{children:[e.jsx(Ne.Item,{label:o("dangerZone.updateMasterPassword.modal.newPasswordLabel"),name:"password",rules:[{required:!0,message:o("dangerZone.updateMasterPassword.modal.newPasswordRequired")},{min:12,message:o("dangerZone.updateMasterPassword.modal.newPasswordMinLength")},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z\d])/,message:o("dangerZone.updateMasterPassword.modal.newPasswordPattern")}],children:e.jsx(Me.Password,{placeholder:o("dangerZone.updateMasterPassword.modal.newPasswordPlaceholder"),size:"large",autoComplete:"new-password"})}),e.jsx(Ne.Item,{label:o("dangerZone.updateMasterPassword.modal.confirmPasswordLabel"),name:"confirmPassword",dependencies:["password"],rules:[{required:!0,message:o("dangerZone.updateMasterPassword.modal.confirmPasswordRequired")},({getFieldValue:e})=>({validator:(t,s)=>s&&e("password")!==s?Promise.reject(new Error(o("dangerZone.updateMasterPassword.modal.confirmPasswordMatch"))):Promise.resolve()})],children:e.jsx(Me.Password,{placeholder:o("dangerZone.updateMasterPassword.modal.confirmPasswordPlaceholder"),size:"large",autoComplete:"new-password"})})]}),e.jsx(_e,{message:m("general.important"),description:o("dangerZone.updateMasterPassword.modal.importantNote"+("create"===Jt?"Create":"remove"===Jt?"Remove":"")),type:"info",showIcon:!0,style:{marginBottom:24}}),e.jsx(Ne.Item,{style:{marginBottom:0},children:e.jsxs(Ae,{style:{width:"100%",justifyContent:"flex-end"},children:[e.jsx(Se,{onClick:()=>{Qt(!1),Wt.resetFields(),es(Yt)},"data-testid":"system-master-password-cancel-button",children:o("dangerZone.updateMasterPassword.modal.cancel")}),e.jsx(Se,{type:"primary",danger:!0,htmlType:"submit",loading:Ls.isPending,disabled:Ls.isPending,"data-testid":"system-master-password-submit-button",children:o(`dangerZone.updateMasterPassword.modal.submit${Jt.charAt(0).toUpperCase()+Jt.slice(1)}`)})]})})]})}),!R.isEnabled("disableBridge")&&e.jsx(Ze,{title:"Reset Bridge Authorization",open:Zt.open,onCancel:()=>_t({open:!1,bridgeName:"",isCloudManaged:!1}),footer:[e.jsx(Se,{onClick:()=>_t({open:!1,bridgeName:"",isCloudManaged:!1}),children:"Cancel"},"cancel"),e.jsx(Se,{type:"primary",danger:!0,loading:Pa.isPending,onClick:async()=>{try{await Pa.mutateAsync({bridgeName:Zt.bridgeName,isCloudManaged:Zt.isCloudManaged}),_t({open:!1,bridgeName:"",isCloudManaged:!1})}catch(e){}},children:"Reset Authorization"},"reset")],children:e.jsxs(Ae,{direction:"vertical",style:{width:"100%"},size:16,children:[e.jsx(_e,{message:"Warning",description:`Are you sure you want to reset authorization for bridge "${Zt.bridgeName}"? This will generate new credentials.`,type:"warning",showIcon:!0}),e.jsx(Ne,{layout:"vertical",children:e.jsx(Ne.Item,{label:"Cloud Management",help:"Check this box if this bridge should be managed by cloud services. Only Global Bridges can be cloud managed.",children:e.jsx(We,{checked:Zt.isCloudManaged,onChange:e=>_t(t=>({...t,isCloudManaged:e.target.checked})),children:"Enable Cloud Management"})})})]})}),e.jsx(Ze,{open:as,closable:!1,footer:null,className:N.Medium,children:e.jsx($e,{status:"success",title:o(`dangerZone.updateMasterPassword.success.title${ts.charAt(0).toUpperCase()+ts.slice(1)}`),subTitle:e.jsxs(Ae,{direction:"vertical",size:24,style:{width:"100%"},children:[e.jsxs("div",{children:[e.jsx(qe.Paragraph,{children:o("dangerZone.updateMasterPassword.success.nextSteps")}),e.jsxs("ol",{style:{textAlign:"left",paddingLeft:20},children:[e.jsx("li",{children:o("dangerZone.updateMasterPassword.success.step1")}),e.jsx("li",{children:o("dangerZone.updateMasterPassword.success.step2"+("remove"===ts?"Remove":""))}),e.jsx("li",{children:o("dangerZone.updateMasterPassword.success.step3"+("remove"===ts?"Remove":""))}),e.jsx("li",{children:o("dangerZone.updateMasterPassword.success.step4"+("remove"===ts?"Remove":""))})]})]}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx(qe.Title,{level:4,children:o("dangerZone.updateMasterPassword.success.redirecting")}),e.jsx(qe.Title,{level:1,type:"danger",children:ns}),e.jsx(qe.Text,{type:"secondary",children:o("dangerZone.updateMasterPassword.success.seconds")})]}),e.jsx(Se,{type:"primary",size:"large",block:!0,onClick:()=>{f(F()),j("/login")},children:o("dangerZone.updateMasterPassword.success.loginNow")})]})})}),e.jsx(Ze,{title:"Change Password",open:H,onCancel:()=>{X(!1),Ee.resetFields()},footer:null,className:N.Medium,children:e.jsxs(Ne,{form:Ee,layout:"vertical",onFinish:async e=>{if(y?.email)try{await qs.mutateAsync({userEmail:y.email,newPassword:e.newPassword}),X(!1),Ee.resetFields();let t=3;const s=Ze.success({title:"Password Changed Successfully",content:`Your password has been changed. You will be logged out in ${t} seconds...`,okText:"Logout Now",onOk:()=>{f(F()),j("/login")}}),a=setInterval(()=>{t--,s.update({content:`Your password has been changed. You will be logged out in ${t} seconds...`}),0===t&&(clearInterval(a),s.destroy(),f(F()),j("/login"))},1e3)}catch(t){}},autoComplete:"off",children:[e.jsx(_e,{message:"Password Requirements",description:e.jsxs("ul",{style:{margin:"8px 0 0 20px",fontSize:14},children:[e.jsx("li",{children:"At least 8 characters long"}),e.jsx("li",{children:"Contains at least one uppercase letter"}),e.jsx("li",{children:"Contains at least one lowercase letter"}),e.jsx("li",{children:"Contains at least one number"}),e.jsx("li",{children:"Contains at least one special character"})]}),type:"info",showIcon:!0,style:{marginBottom:24}}),e.jsx(Ne.Item,{label:"New Password",name:"newPassword",rules:[{required:!0,message:"Please enter your new password"},{min:8,message:"Password must be at least 8 characters long"},{pattern:/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[^A-Za-z\d])/,message:"Password must contain uppercase, lowercase, number and special character"}],children:e.jsx(Me.Password,{placeholder:"Enter new password",size:"large",autoComplete:"new-password"})}),e.jsx(Ne.Item,{label:"Confirm New Password",name:"confirmPassword",dependencies:["newPassword"],rules:[{required:!0,message:"Please confirm your new password"},({getFieldValue:e})=>({validator:(t,s)=>s&&e("newPassword")!==s?Promise.reject(new Error("Passwords do not match")):Promise.resolve()})],children:e.jsx(Me.Password,{placeholder:"Confirm new password",size:"large",autoComplete:"new-password"})}),e.jsx(Ne.Item,{style:{marginBottom:0,marginTop:24},children:e.jsxs(Ae,{style:{width:"100%",justifyContent:"flex-end"},children:[e.jsx(Se,{onClick:()=>{X(!1),Ee.resetFields()},children:"Cancel"}),e.jsx(Se,{type:"primary",htmlType:"submit",loading:qs.isPending,children:"Change Password"})]})})]})}),e.jsx(vs,{open:Q,onCancel:()=>W(!1)}),e.jsx(Ze,{title:o("dangerZone.importData.modal.title"),open:ls,onCancel:()=>{ds(!1),us(null),gs.resetFields(),ps("skip")},footer:null,className:N.Medium,children:e.jsxs(Ne,{form:gs,layout:"vertical",onFinish:async e=>{if(cs)try{const e=await cs.text();try{JSON.parse(e)}catch{return void D("error",o("dangerZone.importData.modal.invalidFile"))}await zs.mutateAsync({companyDataJson:e,importMode:ms}),ds(!1),us(null),gs.resetFields()}catch(t){}else D("error",o("dangerZone.importData.modal.fileRequired"))},children:[e.jsx(_e,{message:o("dangerZone.importData.modal.warning"),description:o("dangerZone.importData.modal.warningText"),type:"warning",showIcon:!0,style:{marginBottom:24}}),e.jsx(Ne.Item,{label:o("dangerZone.importData.modal.selectFile"),required:!0,children:e.jsx(Ye,{beforeUpload:e=>(us(e),!1),onRemove:()=>us(null),maxCount:1,accept:".json",children:e.jsx(Se,{icon:e.jsx(ce,{}),children:cs?cs.name:o("dangerZone.importData.modal.selectFile")})})}),e.jsx(Ne.Item,{label:o("dangerZone.importData.modal.importMode"),children:e.jsx(Qe.Group,{value:ms,onChange:e=>ps(e.target.value),children:e.jsxs(Ae,{direction:"vertical",children:[e.jsx(Qe,{value:"skip",children:e.jsxs(Ae,{direction:"vertical",size:0,children:[e.jsx(Ds,{strong:!0,children:o("dangerZone.importData.modal.modeSkip")}),e.jsx(Ds,{type:"secondary",style:{fontSize:12},children:o("dangerZone.importData.modal.modeSkipDesc")})]})}),e.jsx(Qe,{value:"override",children:e.jsxs(Ae,{direction:"vertical",size:0,children:[e.jsx(Ds,{strong:!0,children:o("dangerZone.importData.modal.modeOverride")}),e.jsx(Ds,{type:"secondary",style:{fontSize:12},children:o("dangerZone.importData.modal.modeOverrideDesc")})]})})]})})}),e.jsx(Ne.Item,{style:{marginBottom:0,marginTop:32},children:e.jsxs(Ae,{style:{width:"100%",justifyContent:"flex-end"},children:[e.jsx(Se,{onClick:()=>{ds(!1),us(null),gs.resetFields(),ps("skip")},children:o("dangerZone.importData.modal.cancel")}),e.jsx(Se,{type:"primary",htmlType:"submit",loading:zs.isPending,disabled:!cs,children:o("dangerZone.importData.modal.import")})]})})]})})]})};export{Fs as default};
