/* Root variables - consistent across themes */
:root {
  /* Primary brand colors - unified system */
  --color-primary: #556b2f;
  --color-primary-hover: #4c6029;
  --color-primary-bg: rgba(85, 107, 47, 0.1);
  --color-secondary: #808000;
  --color-secondary-hover: #6e6e00;
  --color-accent: #7d9b49;
  
  
  /* Status colors - semantic palette (WCAG AA compliant) */
  --color-success: #28a745;
  --color-warning: #fd7e14;
  --color-error: #dc3545;
  --color-info: #007bff;
}

/* Body styles for themes */
body[data-theme="light"] {
  background-color: #ffffff;
  color: #212529;
}

body[data-theme="dark"] {
  background-color: #0a0a0a;
  color: #fafafa;
}

/* Light theme variables */
[data-theme="light"] {
  /* Background colors */
  --color-bg-primary: #ffffff;
  --color-bg-secondary: #f8f9fa;
  --color-bg-tertiary: #e9ecef;
  --color-bg-hover: #f1f3f5;
  --color-bg-active: #e9ecef;
  
  /* Text colors - enhanced contrast for WCAG AA */
  --color-text-primary: #1a1a1a;
  --color-text-secondary: #3d4852;
  --color-text-tertiary: #5a6570;
  --color-text-muted: #9ca3af;
  --color-text-inverse: #ffffff;
  
  /* Border colors */
  --color-border-primary: #dee2e6;
  --color-border-secondary: #e9ecef;
  --color-border-hover: #adb5bd;
  
  /* Shadow colors */
  --color-shadow: rgba(0, 0, 0, 0.1);
  --color-shadow-strong: rgba(0, 0, 0, 0.15);
  
  /* Component specific - simplified */
  --color-input-bg: var(--color-bg-primary);
  --color-input-border: var(--color-border-secondary);
  
  /* Status backgrounds */
  --color-bg-success: #d3f9d8;
  --color-bg-warning: #fff3cd;
  --color-bg-error: #f8d7da;
  --color-bg-info: #d1ecf1;
}

/* Dark theme variables */
[data-theme="dark"] {
  /* Background colors */
  --color-bg-primary: #0a0a0a;
  --color-bg-secondary: #1a1a1a;
  --color-bg-tertiary: #2a2a2a;
  --color-bg-hover: #3a3a3a;
  --color-bg-active: #4a4a4a;
  
  /* Text colors - enhanced contrast for WCAG AA */
  --color-text-primary: #ffffff;
  --color-text-secondary: #e5e7eb;
  --color-text-tertiary: #d1d5db;
  --color-text-muted: #9ca3af;
  --color-text-inverse: #0a0a0a;
  
  /* Border colors */
  --color-border-primary: #27272a;
  --color-border-secondary: #3f3f46;
  --color-border-hover: #52525b;
  
  /* Shadow colors */
  --color-shadow: rgba(0, 0, 0, 0.3);
  --color-shadow-strong: rgba(0, 0, 0, 0.5);
  
  /* Component specific - simplified */
  --color-input-bg: var(--color-bg-secondary);
  --color-input-border: var(--color-border-secondary);
  
  /* Status backgrounds */
  --color-bg-success: #155724;
  --color-bg-warning: #856404;
  --color-bg-error: #721c24;
  --color-bg-info: #004085;
}

/* Theme toggle button styles - removed, now using Ant Design Button */

/* Utility classes for backgrounds */
.bg-primary {
  background-color: var(--color-bg-primary);
}

.bg-secondary {
  background-color: var(--color-bg-secondary);
}

.bg-tertiary {
  background-color: var(--color-bg-tertiary);
}

/* Utility classes for text */
.text-primary {
  color: var(--color-text-primary);
}

.text-secondary {
  color: var(--color-text-secondary);
}

.text-tertiary {
  color: var(--color-text-tertiary);
}

.text-muted {
  color: var(--color-text-muted);
}

/* Utility classes for borders */
.border-primary {
  border-color: var(--color-border-primary);
}

.border-secondary {
  border-color: var(--color-border-secondary);
}

/* Smooth transitions for theme changes - optimized for performance */
body,
.ant-layout,
.ant-layout-header,
.ant-layout-content,
.ant-layout-sider,
.ant-card,
.ant-table,
.ant-menu,
.ant-modal-content {
  transition: background-color 0.15s ease, color 0.15s ease;
}

/* Border transitions for specific elements */
.ant-card,
.ant-table-thead > tr > th,
.ant-table-tbody > tr > td,
.ant-input,
.ant-select-selector {
  transition: border-color 0.15s ease;
}

/* Override transitions for performance-critical elements */
input, 
textarea, 
button {
  transition: none;
}

/* Ensure proper contrast for scrollbars */
[data-theme="dark"] {
  scrollbar-color: #4a4a4a #1a1a1a;
}

[data-theme="dark"]::-webkit-scrollbar {
  background-color: #1a1a1a;
}

[data-theme="dark"]::-webkit-scrollbar-thumb {
  background-color: #4a4a4a;
}

[data-theme="dark"]::-webkit-scrollbar-thumb:hover {
  background-color: #5a5a5a;
}

/* Ant Design specific overrides for dark theme */
[data-theme="dark"] .ant-card {
  background: var(--color-bg-secondary);
  border-color: var(--color-border-primary);
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-table {
  background: var(--color-bg-secondary);
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-table-thead > tr > th {
  background: var(--color-bg-tertiary);
  border-bottom-color: var(--color-border-primary);
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-table-tbody > tr > td {
  border-bottom-color: var(--color-border-primary);
}

[data-theme="dark"] .ant-table-tbody > tr:hover > td {
  background: var(--color-bg-hover);
}

[data-theme="dark"] .ant-menu {
  background: var(--color-bg-secondary);
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-menu-item {
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-menu-item:hover {
  background: var(--color-bg-hover);
}

[data-theme="dark"] .ant-menu-item-selected {
  background-color: var(--color-bg-hover);
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-layout-content {
  background: var(--color-bg-primary);
}

[data-theme="dark"] .ant-form-item-label > label {
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-input,
[data-theme="dark"] .ant-select-selector,
[data-theme="dark"] .ant-input-number,
[data-theme="dark"] .ant-picker {
  background: var(--color-input-bg);
  border-color: var(--color-input-border);
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-input:hover,
[data-theme="dark"] .ant-select-selector:hover,
[data-theme="dark"] .ant-input-number:hover,
[data-theme="dark"] .ant-picker:hover {
  border-color: var(--color-input-focus-border);
}

[data-theme="dark"] .ant-modal-content {
  background: var(--color-bg-secondary);
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-modal-header {
  background: var(--color-bg-secondary);
  border-bottom-color: var(--color-border-primary);
}

[data-theme="dark"] .ant-modal-title {
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-modal-close-x {
  color: var(--color-text-secondary);
}

[data-theme="dark"] .ant-dropdown-menu {
  background: var(--color-bg-secondary);
  box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.48), 0 6px 16px 0 rgba(0, 0, 0, 0.32), 0 9px 28px 8px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .ant-dropdown-menu-item {
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-dropdown-menu-item:hover {
  background: var(--color-bg-hover);
}

/* Ant Design Empty component for dark theme */
[data-theme="dark"] .ant-empty-description {
  color: var(--color-text-secondary);
}

[data-theme="dark"] .ant-empty-normal {
  color: var(--color-text-tertiary);
}

[data-theme="dark"] .ant-empty-image svg {
  opacity: 0.3;
}

/* Ant Design Typography for dark theme */
[data-theme="dark"] .ant-typography {
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-typography.ant-typography-secondary {
  color: var(--color-text-secondary) !important;
}

[data-theme="dark"] .ant-typography.ant-typography-warning {
  color: var(--color-warning);
}

[data-theme="dark"] .ant-typography.ant-typography-danger {
  color: var(--color-error);
}

[data-theme="dark"] .ant-typography.ant-typography-disabled {
  color: var(--color-text-muted);
}

/* More specific selectors for Ant Typography */
[data-theme="dark"] span.ant-typography.ant-typography-secondary {
  color: var(--color-text-secondary) !important;
}

[data-theme="dark"] .ant-typography-secondary {
  color: var(--color-text-secondary) !important;
}

/* Force Typography colors in dark theme */
body[data-theme="dark"] .ant-typography.ant-typography-secondary,
body[data-theme="dark"] span.ant-typography-secondary,
body[data-theme="dark"] .ant-typography-secondary {
  color: #a1a1aa !important;
}

/* Ant Design Card for dark theme */
[data-theme="dark"] .ant-card-body {
  background: var(--color-bg-secondary);
  color: var(--color-text-primary);
}

/* Ant Design Layout Header for dark theme */
[data-theme="dark"] .ant-layout-header {
  background: var(--color-bg-secondary) !important;
  color: var(--color-text-primary);
}

/* Ant Design Statistic for dark theme */
[data-theme="dark"] .ant-statistic-title {
  color: var(--color-text-secondary) !important;
}

[data-theme="dark"] .ant-statistic-content {
  color: var(--color-text-primary);
}

/* Price display styles */
.price-statistic .ant-statistic-content {
  font-size: 1.25rem !important;
}

.price-statistic .ant-statistic-content-prefix {
  font-size: 1rem !important;
}

.price-statistic .ant-statistic-content-suffix {
  font-size: 0.875rem !important;
}

.price-statistic .ant-statistic-title {
  font-size: 0.875rem !important;
}

/* Dark theme overrides for price display */
[data-theme="dark"] .price-statistic .ant-statistic-content {
  color: var(--color-text-primary);
}

/* Progress component text in dark theme */
[data-theme="dark"] .ant-progress-text {
  color: var(--color-text-primary) !important;
}

/* Timeline component for dark theme */
[data-theme="dark"] .ant-timeline-item-content {
  color: var(--color-text-primary);
}

/* Ant Design Popover for dark theme */
[data-theme="dark"] .ant-popover {
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-popover-inner {
  background: var(--color-bg-secondary);
  background-color: var(--color-bg-secondary);
  box-shadow: 0 3px 6px -4px rgba(0, 0, 0, 0.48), 0 6px 16px 0 rgba(0, 0, 0, 0.32), 0 9px 28px 8px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .ant-popover-title {
  color: var(--color-text-primary);
  border-bottom-color: var(--color-border-primary);
}

[data-theme="dark"] .ant-popover-inner-content {
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-popover-arrow {
  background: transparent;
}

[data-theme="dark"] .ant-popover-arrow-content {
  background-color: var(--color-bg-secondary);
}

/* Ant Design Radio for dark theme */
[data-theme="dark"] .ant-radio-wrapper {
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-radio-wrapper-disabled {
  color: var(--color-text-muted);
}

[data-theme="dark"] .ant-radio-inner {
  background-color: var(--color-bg-primary);
  border-color: var(--color-border-primary);
}

[data-theme="dark"] .ant-radio:hover .ant-radio-inner {
  border-color: var(--color-input-focus-border);
}

[data-theme="dark"] .ant-radio-checked .ant-radio-inner {
  border-color: var(--color-button-primary-bg);
}

[data-theme="dark"] .ant-radio-checked .ant-radio-inner::after {
  background-color: var(--color-button-primary-bg);
}

/* Ant Design Button for dark theme - additional styles */
[data-theme="dark"] .ant-btn {
  color: var(--color-text-primary);
  border-color: var(--color-border-primary);
}

[data-theme="dark"] .ant-btn:hover {
  color: var(--color-text-primary);
  border-color: var(--color-border-hover);
}

[data-theme="dark"] .ant-btn-default {
  background: var(--color-bg-secondary);
  border-color: var(--color-border-primary);
}

[data-theme="dark"] .ant-btn-default:hover {
  background: var(--color-bg-hover);
  border-color: var(--color-border-hover);
}

[data-theme="dark"] .ant-btn-text {
  background: transparent;
  border-color: transparent;
}

[data-theme="dark"] .ant-btn-text:hover {
  background: var(--color-bg-hover);
}

/* Enhanced focus states for better accessibility */
:focus-visible {
  outline: 3px solid var(--color-primary);
  outline-offset: 2px;
  border-radius: 6px;
}

.ant-btn:focus-visible {
  outline: 3px solid var(--color-primary) !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(85, 107, 47, 0.25) !important;
  border-color: var(--color-primary) !important;
}

.ant-input:focus-visible,
.ant-input-password:focus-visible,
.ant-input:focus,
.ant-input-password:focus {
  outline: none !important;
  box-shadow: 0 0 0 2px var(--color-primary), 0 0 0 4px rgba(85, 107, 47, 0.25) !important;
  border-color: var(--color-primary) !important;
}

/* Ensure high contrast focus states for links and interactive elements */
a:focus-visible,
button:focus-visible,
[role="button"]:focus-visible,
[tabindex]:focus-visible {
  outline: 3px solid var(--color-primary) !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(85, 107, 47, 0.25);
  border-radius: 4px;
}

/* Language selector and other dropdown elements */
.ant-select:focus-visible,
.ant-select-focused {
  outline: 3px solid var(--color-primary) !important;
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(85, 107, 47, 0.25) !important;
}

/* Improved interactive states */
.ant-btn-primary:hover {
  transform: translateY(-1px);
  box-shadow: 0 6px 20px rgba(85, 107, 47, 0.35);
}

/* Enhanced form validation error styling */
.ant-form-item-has-error .ant-input,
.ant-form-item-has-error .ant-input-password,
.ant-form-item-has-error .ant-select-selector {
  border-color: var(--color-error) !important;
  border-width: 2px !important;
  box-shadow: 0 0 0 3px rgba(255, 107, 107, 0.15) !important;
  background-color: rgba(255, 107, 107, 0.02);
}

.ant-form-item-has-error .ant-form-item-explain-error {
  color: var(--color-error);
  font-weight: 500;
  font-size: 13px;
  margin-top: 6px;
  padding: 6px 12px;
  background-color: rgba(255, 107, 107, 0.08);
  border-radius: 6px;
  border-left: 3px solid var(--color-error);
}

/* Error state for dark theme */
[data-theme="dark"] .ant-form-item-has-error .ant-input,
[data-theme="dark"] .ant-form-item-has-error .ant-input-password,
[data-theme="dark"] .ant-form-item-has-error .ant-select-selector {
  background-color: rgba(255, 107, 107, 0.05);
}

[data-theme="dark"] .ant-form-item-has-error .ant-form-item-explain-error {
  background-color: rgba(255, 107, 107, 0.1);
  color: #ff9999;
}

/* Enhanced touch targets for mobile accessibility */
.ant-btn {
  min-height: 44px;
  min-width: 44px;
  padding: 8px 16px;
  touch-action: manipulation;
}

.ant-input,
.ant-input-password {
  min-height: 44px;
  touch-action: manipulation;
}

.ant-select {
  min-height: 44px;
  touch-action: manipulation;
}

.ant-select-selection-item {
  /* Remove fixed line-height to prevent double-centering with flexbox */
  /* Content will be centered by parent's flex display */
  line-height: normal;
}

/* Additional interactive elements */
.ant-dropdown-trigger,
.ant-switch,
.ant-checkbox-wrapper,
.ant-radio-wrapper,
.ant-menu-item,
.ant-tabs-tab,
[role="button"],
[data-testid^="main-"],
.ant-avatar {
  min-height: 44px;
  min-width: 44px;
  touch-action: manipulation;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Language selector touch targets */
.ant-dropdown-menu-item {
  min-height: 44px;
  padding: 8px 16px;
  display: flex;
  align-items: center;
}

/* Register link and interactive elements */
a[role="button"],
[role="button"] {
  min-height: 44px;
  min-width: 44px;
  display: inline-flex;
  align-items: center;
  justify-content: center;
  padding: 8px 12px;
}

/* Ant Design Segmented component for dark theme */
[data-theme="dark"] .ant-segmented {
  background: var(--color-bg-tertiary);
  color: var(--color-text-primary);
}

[data-theme="dark"] .ant-segmented-item {
  color: var(--color-text-secondary);
}

[data-theme="dark"] .ant-segmented-item:hover {
  color: var(--color-text-primary);
  background: var(--color-bg-hover);
}

[data-theme="dark"] .ant-segmented-item-selected {
  background: var(--color-bg-primary);
  color: var(--color-text-primary);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

[data-theme="dark"] .ant-segmented-thumb {
  background: var(--color-bg-primary);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}