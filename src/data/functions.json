{
  "categories": [
    "machine",
    "repository",
    "backup",
    "network",
    "container",
    "distributed_storage"
  ],
  "functions": {
    "setup": {
      "name": "setup",
      "category": "machine",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true,
        "company": true
      },
      "params": {
        "datastore_size": {
          "type": "string",
          "default": "95%",
          "format": "size",
          "units": ["percentage", "G", "T"]
        },
        "source": {
          "type": "string",
          "default": "apt-repo",
          "options": ["apt-repo", "tar-static", "deb-local"]
        },
        "rclone_source": {
          "type": "string",
          "default": "install-script",
          "options": ["install-script", "package-manager", "manual"],
          "ui": "dropdown"
        },
        "docker_source": {
          "type": "string",
          "default": "docker-repo",
          "options": ["docker-repo", "package-manager", "snap", "manual"],
          "ui": "dropdown"
        },
        "install_amd_driver": {
          "type": "string",
          "default": "auto",
          "options": ["auto", "true", "false"],
          "ui": "dropdown"
        },
        "install_nvidia_driver": {
          "type": "string",
          "default": "auto",
          "options": ["auto", "true", "false"],
          "ui": "dropdown"
        }
      }
    },
    "hello": {
      "name": "hello",
      "category": "machine",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true
      },
      "params": {}
    },
    "ping": {
      "name": "ping",
      "category": "machine",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true
      },
      "params": {}
    },
    "ssh_test": {
      "name": "ssh_test",
      "category": "machine",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true
      },
      "params": {}
    },
    "uninstall": {
      "name": "uninstall",
      "category": "machine",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true
      },
      "params": {}
    },
    "new": {
      "name": "new",
      "category": "machine",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true,
          "ui": "repository-dropdown"
        },
        "size": {
          "type": "string",
          "required": true,
          "format": "size",
          "units": ["G", "T"]
        },
        "tmpl": {
          "type": "string",
          "required": false,
          "description": "Base64 encoded template JSON"
        }
      }
    },
    "mount": {
      "name": "mount",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "from": {
          "type": "string"
        },
        "grand": {
          "type": "string",
          "required": true
        }
      }
    },
    "unmount": {
      "name": "unmount",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "from": {
          "type": "string"
        },
        "grand": {
          "type": "string",
          "required": true
        }
      }
    },
    "up": {
      "name": "up",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true,
        "bridge": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "option": {
          "type": "string",
          "label": "Options",
          "ui": "checkbox",
          "checkboxOptions": [
            {
              "value": "mount",
              "label": "mountRepositoryFirst"
            },
            {
              "value": "prep-only",
              "label": "preparationOnly"
            }
          ]
        },
        "grand": {
          "type": "string"
        }
      }
    },
    "down": {
      "name": "down",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "option": {
          "type": "string",
          "label": "Options",
          "ui": "checkbox",
          "checkboxOptions": [
            {
              "value": "unmount",
              "label": "unmountAfterStopping"
            }
          ]
        },
        "grand": {
          "type": "string"
        }
      }
    },
    "resize": {
      "name": "resize",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "size": {
          "type": "string",
          "required": true,
          "format": "size",
          "units": ["G", "T"]
        }
      }
    },
    "rm": {
      "name": "rm",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "grand": {
          "type": "string",
          "required": true
        }
      }
    },
    "plugin": {
      "name": "plugin",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true,
        "plugin": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "plugin": {
          "type": "string",
          "required": true
        }
      }
    },
    "plugout": {
      "name": "plugout",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true,
        "plugin": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "plugin": {
          "type": "string",
          "required": true
        }
      }
    },
    "ownership": {
      "name": "ownership",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "from": {
          "type": "string",
          "required": true
        },
        "to": {
          "type": "string"
        }
      }
    },
    "list": {
      "name": "list",
      "category": "machine",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "company": true
      },
      "params": {
        "kind": {
          "type": "string",
          "default": "repo"
        },
        "format": {
          "type": "string"
        }
      }
    },
    "push": {
      "name": "push",
      "category": "backup",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true,
        "storage": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "dest": {
          "type": "string",
          "required": true,
          "placeholder": "backup-filename"
        },
        "destinationType": {
          "type": "string",
          "required": true,
          "options": ["machine", "storage"],
          "ui": "dropdown",
          "default": "machine"
        },
        "to": {
          "type": "string",
          "required": true,
          "ui": "destination-dropdown"
        },
        "state": {
          "type": "string",
          "options": ["online", "offline"],
          "ui": "dropdown"
        },
        "option": {
          "type": "string",
          "label": "Options",
          "ui": "checkbox",
          "checkboxOptions": [
            {
              "value": "override",
              "label": "overrideExistingFile"
            }
          ]
        },
        "grand": {
          "type": "string",
          "required": true
        }
      }
    },
    "pull": {
      "name": "pull",
      "category": "backup",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true,
        "storage": true
      },
      "params": {
        "sourceType": {
          "type": "string",
          "required": true,
          "options": ["machine", "storage"],
          "ui": "dropdown",
          "default": "storage"
        },
        "from": {
          "type": "string",
          "required": true,
          "ui": "source-dropdown"
        },
        "repo": {
          "type": "string",
          "required": true,
          "ui": "repository-dropdown"
        }
      }
    },
    "list": {
      "name": "list",
      "category": "backup",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "storage": true
      },
      "params": {
        "from": {
          "type": "string",
          "required": true
        },
        "path": {
          "type": "string",
          "required": false
        },
        "format": {
          "type": "string",
          "required": false,
          "default": "json",
          "options": ["json", "text"]
        }
      }
    },
    "service_list": {
      "name": "service_list",
      "category": "repository",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        }
      }
    },
    "container_list": {
      "name": "container_list",
      "category": "repository",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        }
      }
    },
    "container_start": {
      "name": "container_start",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        }
      }
    },
    "container_stop": {
      "name": "container_stop",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        }
      }
    },
    "container_restart": {
      "name": "container_restart",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        }
      }
    },
    "container_remove": {
      "name": "container_remove",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        },
        "force": {
          "type": "string",
          "default": "false",
          "options": ["true", "false"],
          "ui": "dropdown"
        }
      }
    },
    "container_logs": {
      "name": "container_logs",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        },
        "lines": {
          "type": "string",
          "default": "100"
        },
        "follow": {
          "type": "string",
          "default": "false",
          "options": ["true", "false"],
          "ui": "dropdown"
        }
      }
    },
    "container_inspect": {
      "name": "container_inspect",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        }
      }
    },
    "container_stats": {
      "name": "container_stats",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": false
        }
      }
    },
    "container_pause": {
      "name": "container_pause",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        }
      }
    },
    "container_unpause": {
      "name": "container_unpause",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        }
      }
    },
    "distributed_storage_provision": {
      "name": "distributed_storage_provision",
      "category": "distributed_storage",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true,
        "bridge": true
      },
      "params": {
        "cluster_name": {
          "type": "string",
          "required": true,
          "placeholder": "my-storage-cluster",
          "description": "Name for the distributed storage cluster"
        },
        "nodes": {
          "type": "string",
          "required": true,
          "placeholder": "node1,node2,node3",
          "description": "Comma-separated list of machine names (minimum 3)"
        },
        "pool_name": {
          "type": "string",
          "required": true,
          "placeholder": "rbd",
          "description": "Name of the Ceph pool"
        },
        "pool_pg_num": {
          "type": "number",
          "required": true,
          "default": "128",
          "min": 1,
          "max": 1024,
          "description": "Number of placement groups for the pool"
        },
        "pool_size": {
          "type": "string",
          "required": true,
          "placeholder": "100G",
          "format": "size",
          "units": ["G", "T"],
          "description": "Size of the storage pool"
        },
        "osd_device": {
          "type": "string",
          "required": true,
          "placeholder": "/dev/sdb",
          "description": "Block device to use for OSD on each node"
        },
        "rbd_image_prefix": {
          "type": "string",
          "required": true,
          "placeholder": "rediacc_disk",
          "description": "Prefix for RBD image names"
        },
        "health_check_timeout": {
          "type": "number",
          "required": true,
          "default": "300",
          "min": 60,
          "max": 600,
          "description": "Health check timeout in seconds"
        }
      }
    },
    "distributed_storage_status": {
      "name": "distributed_storage_status",
      "category": "distributed_storage",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true,
        "bridge": true
      },
      "params": {
        "cluster_name": {
          "type": "string",
          "required": true,
          "description": "Name of the distributed storage cluster"
        },
        "node": {
          "type": "string",
          "required": true,
          "ui": "machine-dropdown",
          "description": "Node to check status from"
        }
      }
    },
    "distributed_storage_mount": {
      "name": "distributed_storage_mount",
      "category": "distributed_storage",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true,
        "bridge": true
      },
      "params": {
        "cluster_name": {
          "type": "string",
          "required": true,
          "description": "Name of the distributed storage cluster"
        },
        "pool_name": {
          "type": "string",
          "required": true,
          "placeholder": "rbd",
          "description": "Name of the Ceph pool"
        },
        "mount_point": {
          "type": "string",
          "required": false,
          "placeholder": "/mnt/distributed",
          "description": "Mount point on the client machine"
        },
        "filesystem": {
          "type": "string",
          "required": false,
          "options": ["btrfs", "ext4", "xfs"],
          "ui": "dropdown",
          "default": "btrfs",
          "description": "Filesystem type"
        },
        "storage_nodes": {
          "type": "string",
          "required": true,
          "placeholder": "node1,node2,node3",
          "description": "Comma-separated list of storage nodes"
        },
        "rbd_image_prefix": {
          "type": "string",
          "required": false,
          "placeholder": "rediacc_disk",
          "description": "RBD image prefix (must match cluster config)"
        }
      }
    },
    "distributed_storage_unmount": {
      "name": "distributed_storage_unmount",
      "category": "distributed_storage",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true,
        "bridge": true
      },
      "params": {
        "mount_point": {
          "type": "string",
          "required": false,
          "placeholder": "/mnt/distributed",
          "description": "Mount point to unmount"
        }
      }
    },
    "distributed_storage_get_dashboard": {
      "name": "distributed_storage_get_dashboard",
      "category": "distributed_storage",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "bridge": true
      },
      "params": {
        "cluster_name": {
          "type": "string",
          "required": true,
          "description": "Name of the distributed storage cluster"
        },
        "node": {
          "type": "string",
          "required": true,
          "ui": "machine-dropdown",
          "description": "Node to retrieve dashboard info from"
        }
      }
    },
    "distributed_storage_destroy": {
      "name": "distributed_storage_destroy",
      "category": "distributed_storage",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "bridge": true
      },
      "params": {
        "cluster_name": {
          "type": "string",
          "required": true,
          "description": "Name of the distributed storage cluster to destroy"
        },
        "nodes": {
          "type": "string",
          "required": true,
          "placeholder": "node1,node2,node3",
          "description": "Comma-separated list of all cluster nodes"
        },
        "force": {
          "type": "string",
          "required": true,
          "options": ["true", "false"],
          "ui": "dropdown",
          "default": "false",
          "description": "Force destruction (required for safety)"
        }
      }
    }
  }
}