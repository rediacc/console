<svg width="800" height="500" viewBox="0 0 800 500" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <linearGradient id="serverGrad" x1="0" y1="0" x2="0" y2="1">
      <stop offset="0%" stop-color="#2d2d2d"/>
      <stop offset="100%" stop-color="#1a1a1a"/>
    </linearGradient>
    <filter id="shadow">
      <feDropShadow dx="0" dy="2" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
    <marker id="arrowGreen" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#556b2f"/>
    </marker>
    <marker id="arrowRed" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#dc3545"/>
    </marker>
    <marker id="arrowGray" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#3d3d3d"/>
    </marker>
    <marker id="arrowDark" markerWidth="8" markerHeight="6" refX="8" refY="3" orient="auto">
      <polygon points="0 0, 8 3, 0 6" fill="#1a1a1a"/>
    </marker>
  </defs>

  <!-- Background -->
  <rect width="800" height="500" fill="#f5f5f5"/>

  <!-- ===================== PRIMARY SERVER (Write) ===================== -->
  <g transform="translate(350, 22)" filter="url(#shadow)">
    <rect width="100" height="120" rx="8" fill="url(#serverGrad)"/>
    <rect x="12" y="20" width="76" height="10" rx="2" fill="#1a1a1a"/>
    <rect x="12" y="38" width="76" height="10" rx="2" fill="#1a1a1a"/>
    <rect x="12" y="56" width="76" height="10" rx="2" fill="#1a1a1a"/>
    <circle cx="20" cy="25" r="2.5" fill="#556b2f"/>
    <circle cx="20" cy="43" r="2.5" fill="#556b2f"/>
    <circle cx="20" cy="61" r="2.5" fill="#556b2f"/>
    <rect x="12" y="85" width="16" height="7" rx="1" fill="#3d3d3d"/>
    <rect x="34" y="85" width="16" height="7" rx="1" fill="#3d3d3d"/>
    <rect x="56" y="85" width="16" height="7" rx="1" fill="#3d3d3d"/>
  </g>
  <text x="400" y="160" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#1a1a1a">Primary (Write)</text>

  <!-- ===================== REPLICATION ARROWS (dashed) ===================== -->
  <line x1="368" y1="142" x2="195" y2="210" stroke="#3d3d3d" stroke-width="1.5" stroke-dasharray="6,4" marker-end="url(#arrowGray)"/>
  <line x1="400" y1="147" x2="400" y2="210" stroke="#3d3d3d" stroke-width="1.5" stroke-dasharray="6,4" marker-end="url(#arrowGray)"/>
  <line x1="432" y1="142" x2="605" y2="210" stroke="#3d3d3d" stroke-width="1.5" stroke-dasharray="6,4" marker-end="url(#arrowGray)"/>

  <!-- Sync delay labels -->
  <text x="262" y="172" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#999999">10-15 min</text>
  <text x="368" y="186" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#999999">10-15 min</text>
  <text x="538" y="172" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#999999">10-15 min</text>

  <!-- ===================== REPLICA SERVERS (Read-Only) ===================== -->
  <!-- Replica 1 -->
  <g transform="translate(135, 215)" filter="url(#shadow)">
    <rect width="100" height="120" rx="8" fill="url(#serverGrad)"/>
    <rect x="12" y="20" width="76" height="10" rx="2" fill="#1a1a1a"/>
    <rect x="12" y="38" width="76" height="10" rx="2" fill="#1a1a1a"/>
    <rect x="12" y="56" width="76" height="10" rx="2" fill="#1a1a1a"/>
    <circle cx="20" cy="25" r="2.5" fill="#556b2f"/>
    <circle cx="20" cy="43" r="2.5" fill="#556b2f"/>
    <circle cx="20" cy="61" r="2.5" fill="#556b2f"/>
    <rect x="12" y="85" width="16" height="7" rx="1" fill="#3d3d3d"/>
    <rect x="34" y="85" width="16" height="7" rx="1" fill="#3d3d3d"/>
    <rect x="56" y="85" width="16" height="7" rx="1" fill="#3d3d3d"/>
  </g>
  <text x="185" y="350" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#999999">Replica 1</text>

  <!-- Replica 2 -->
  <g transform="translate(350, 215)" filter="url(#shadow)">
    <rect width="100" height="120" rx="8" fill="url(#serverGrad)"/>
    <rect x="12" y="20" width="76" height="10" rx="2" fill="#1a1a1a"/>
    <rect x="12" y="38" width="76" height="10" rx="2" fill="#1a1a1a"/>
    <rect x="12" y="56" width="76" height="10" rx="2" fill="#1a1a1a"/>
    <circle cx="20" cy="25" r="2.5" fill="#556b2f"/>
    <circle cx="20" cy="43" r="2.5" fill="#556b2f"/>
    <circle cx="20" cy="61" r="2.5" fill="#556b2f"/>
    <rect x="12" y="85" width="16" height="7" rx="1" fill="#3d3d3d"/>
    <rect x="34" y="85" width="16" height="7" rx="1" fill="#3d3d3d"/>
    <rect x="56" y="85" width="16" height="7" rx="1" fill="#3d3d3d"/>
  </g>
  <text x="400" y="350" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#999999">Replica 2</text>

  <!-- Replica 3 -->
  <g transform="translate(565, 215)" filter="url(#shadow)">
    <rect width="100" height="120" rx="8" fill="url(#serverGrad)"/>
    <rect x="12" y="20" width="76" height="10" rx="2" fill="#1a1a1a"/>
    <rect x="12" y="38" width="76" height="10" rx="2" fill="#1a1a1a"/>
    <rect x="12" y="56" width="76" height="10" rx="2" fill="#1a1a1a"/>
    <circle cx="20" cy="25" r="2.5" fill="#556b2f"/>
    <circle cx="20" cy="43" r="2.5" fill="#556b2f"/>
    <circle cx="20" cy="61" r="2.5" fill="#556b2f"/>
    <rect x="12" y="85" width="16" height="7" rx="1" fill="#3d3d3d"/>
    <rect x="34" y="85" width="16" height="7" rx="1" fill="#3d3d3d"/>
    <rect x="56" y="85" width="16" height="7" rx="1" fill="#3d3d3d"/>
  </g>
  <text x="615" y="350" font-family="Arial, sans-serif" font-size="11" text-anchor="middle" fill="#999999">Replica 3</text>

  <!-- ===================== QUERY ARROWS (solid, from distribution layer UP) ===================== -->
  <!-- READ arrow to Replica 1 -->
  <line x1="200" y1="388" x2="185" y2="358" stroke="#556b2f" stroke-width="2" marker-end="url(#arrowGreen)"/>
  <text x="160" y="382" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#556b2f">READ</text>

  <!-- READ arrow to Replica 2 -->
  <line x1="370" y1="388" x2="395" y2="358" stroke="#556b2f" stroke-width="2" marker-end="url(#arrowGreen)"/>
  <text x="348" y="382" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#556b2f">READ</text>

  <!-- READ arrow to Replica 3 -->
  <line x1="595" y1="388" x2="615" y2="358" stroke="#556b2f" stroke-width="2" marker-end="url(#arrowGreen)"/>
  <text x="638" y="382" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#556b2f">READ</text>

  <!-- WRITE arrow to Primary (curved to the right to avoid replica servers) -->
  <path d="M 500,388 Q 540,265 418,152" stroke="#dc3545" stroke-width="2" fill="none" marker-end="url(#arrowRed)"/>
  <text x="502" y="205" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="start" fill="#dc3545">WRITE</text>

  <!-- ===================== QUERY DISTRIBUTION LAYER ===================== -->
  <rect x="100" y="388" width="600" height="36" rx="8" fill="#e0e0e0" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="400" y="411" font-family="Arial, sans-serif" font-size="13" font-weight="bold" text-anchor="middle" fill="#1a1a1a">Query Distribution Layer</text>

  <!-- ===================== CONNECTION: CLIENT TO DISTRIBUTION ===================== -->
  <line x1="400" y1="445" x2="400" y2="428" stroke="#1a1a1a" stroke-width="1.5" marker-end="url(#arrowDark)"/>

  <!-- ===================== CLIENT APPLICATIONS BAR ===================== -->
  <rect x="200" y="445" width="400" height="28" rx="6" fill="#e0e0e0" stroke="#1a1a1a" stroke-width="1.5"/>
  <text x="400" y="464" font-family="Arial, sans-serif" font-size="12" font-weight="bold" text-anchor="middle" fill="#1a1a1a">Client Applications</text>

  <!-- ===================== RESULT BADGE ===================== -->
  <rect x="225" y="480" width="350" height="18" rx="9" fill="#556b2f" opacity="0.12"/>
  <text x="400" y="493" font-family="Arial, sans-serif" font-size="11" font-weight="bold" text-anchor="middle" fill="#556b2f">Query Time: 55s â†’ 7s  |  8x Capacity</text>

  <!-- ===================== DECORATIVE CIRCLES ===================== -->
  <circle cx="50" cy="480" r="18" fill="#e0e0e0" opacity="0.35"/>
  <circle cx="80" cy="490" r="10" fill="#e0e0e0" opacity="0.25"/>
  <circle cx="740" cy="475" r="14" fill="#e0e0e0" opacity="0.3"/>
  <circle cx="765" cy="490" r="8" fill="#e0e0e0" opacity="0.2"/>
  <circle cx="30" cy="30" r="12" fill="#e0e0e0" opacity="0.25"/>
  <circle cx="770" cy="25" r="15" fill="#e0e0e0" opacity="0.2"/>
</svg>
