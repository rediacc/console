---
interface Props {
  socialProof: {
    quote: string;
    author: string;
    company: string;
    title?: string;
    photo?: string;
    impact?: {
      beforeLabel: string;
      beforeValue: string;
      afterLabel: string;
      afterValue: string;
      improvement: string;
    };
  };
}

const { socialProof } = Astro.props;
---

<section class="sp-social-proof">
  <div class="sp-social-proof-inner">
    <div class="sp-quote-mark" aria-hidden="true">&ldquo;</div>
    <blockquote class="sp-quote-text">{socialProof.quote}</blockquote>
    <div class="sp-quote-attribution">
      {socialProof.photo && (
        <img
          src={socialProof.photo}
          alt=""
          class="sp-quote-photo"
          width="48"
          height="48"
          loading="lazy"
          decoding="async"
        />
      )}
      <cite class="sp-quote-author">
        {socialProof.author}
        {socialProof.title && <span class="sp-quote-title">, {socialProof.title}</span>}
        <span> &mdash; {socialProof.company}</span>
      </cite>
    </div>

    {socialProof.impact && (
      <Fragment>
        <div class="sp-impact-card">
          <div class="sp-impact-metric sp-impact-before">
            <div class="sp-impact-label">{socialProof.impact.beforeLabel}</div>
            <div class="sp-impact-value">{socialProof.impact.beforeValue}</div>
          </div>
          <div class="sp-impact-arrow">&rarr;</div>
          <div class="sp-impact-metric sp-impact-after">
            <div class="sp-impact-label">{socialProof.impact.afterLabel}</div>
            <div class="sp-impact-value">{socialProof.impact.afterValue}</div>
          </div>
        </div>
        <div class="sp-impact-improvement">
          <span>{socialProof.impact.improvement}</span>
        </div>
      </Fragment>
    )}
  </div>
</section>
