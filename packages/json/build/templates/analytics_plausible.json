{"id":"analytics_plausible","name":"Plausible Community Edition","description":"Lightweight, privacy-focused web analytics platform that respects user privacy while providing valuable insights.","category":"analytics","tags":["analytics","plausible"],"files":[{"name":".env","path":"plausible/.env","type":"environment","content":"# Plausible Community Edition Configuration\n\n# HTTP Port (default: 8000)\n# Docker will assign a random host port\nHTTP_PORT=8000\n\n# Base URL where Plausible will be accessed\n# IMPORTANT: Change this to your actual domain in production (e.g., https://analytics.example.com)\nBASE_URL=http://localhost:8000\n\n# Secret key base for encryption (minimum 64 characters)\n# DO NOT set manually - will be auto-generated on first run if empty\nSECRET_KEY_BASE=\n\n# Registration mode (default: invite_only)\n# Options: invite_only, true (open), false (disabled)\nDISABLE_REGISTRATION=invite_only\n\n# PostgreSQL password (default: postgres)\nPOSTGRES_PASSWORD=postgres\n\n# Optional: Email/SMTP Configuration (uncomment and configure for production)\n# Required for user invites and password resets\n# MAILER_ADAPTER=Bamboo.SMTPAdapter\n# SMTP_HOST_ADDR=smtp.example.com\n# SMTP_HOST_PORT=587\n# SMTP_USER_NAME=your-smtp-username\n# SMTP_USER_PWD=your-smtp-password\n# SMTP_HOST_SSL_ENABLED=true\n# MAILER_EMAIL=analytics@example.com\n\n# Alternative: Use third-party email services\n# POSTMARK_API_KEY=your-postmark-key\n# MAILGUN_API_KEY=your-mailgun-key\n# SENDGRID_API_KEY=your-sendgrid-key"},{"name":"README.md","path":"plausible/README.md","type":"markdown","content":"# Plausible Community Edition\n\nLightweight, privacy-focused web analytics platform that respects user privacy while providing valuable insights.\n\n## Features\n- Privacy-first analytics (GDPR, CCPA compliant, no cookies)\n- Lightweight tracking script (<1KB)\n- Real-time visitor statistics and pageview tracking\n- Self-hosted with full data ownership\n- Beautiful, simple dashboard interface\n- Built on PostgreSQL and ClickHouse for performance\n\n## Usage\n```bash\nsource Rediaccfile\nprep  # Pull images and create directories\nup    # Start Plausible (auto-generates secret key on first run)\ndown  # Stop and cleanup\n```\n\n### First Run - Auto-Configuration\nOn first run, a secret key is automatically generated:\n- **SECRET_KEY_BASE**: 64-byte encryption key for data security\n- **Secret File**: Saved to `./plausible-secret.txt`\n- **Initialization**: Database creation and migrations run automatically (~60 seconds)\n- **Admin Account**: Create on first visit to web interface\n\n**Important**: Keep the secret file secure - required for encryption!\n\n## Configuration\nEdit `.env` to customize:\n- `BASE_URL`: Your domain (default: http://localhost:8000)\n- `HTTP_PORT`: Container port (default: 8000)\n- `DISABLE_REGISTRATION`: Registration mode (default: invite_only)\n- `POSTGRES_PASSWORD`: Database password (default: postgres)\n\n### Email Configuration (Optional)\nFor user invites and password resets, configure SMTP in `.env`:\n- Uncomment and set `SMTP_HOST_ADDR`, `SMTP_HOST_PORT`, etc.\n- Or use third-party services (Postmark, Mailgun, SendGrid)\n\n## Access\n- **Web Interface**: Auto-assigned port (find with `docker compose ps`)\n  - Example: `http://localhost:<port>`\n- **Find Port**: Run `docker compose ps` and look for mapped port\n- **First Visit**: Create your admin account\n- **Startup Time**: Allow ~60 seconds for database initialization\n\n## Website Integration\nAfter setting up Plausible:\n\n1. **Create Site**: Add your website in the Plausible dashboard\n2. **Add Tracking Script**: Insert in your website's `<head>`:\n   ```html\n   <script defer data-domain=\"yourdomain.com\" src=\"http://your-plausible-url/js/script.js\"></script>\n   ```\n3. **Verify**: Visit your site and check the Plausible dashboard\n\n## Production Setup\nFor production deployments:\n\n1. **Domain Configuration**\n   - Set `BASE_URL` to your actual domain (e.g., https://analytics.example.com)\n   - Configure reverse proxy (Nginx/Caddy) with SSL/TLS\n\n2. **Email Setup**\n   - Configure SMTP for user invites and password resets\n   - Required for team collaboration features\n\n3. **Registration Mode**\n   - Set `DISABLE_REGISTRATION=true` after creating admin account\n   - Use invite-only mode for team members\n\n4. **Resource Requirements**\n   - Minimum 2GB RAM recommended\n   - CPU must support SSE 4.2 or NEON (ClickHouse requirement)\n\n## Important Notes\n- **SECRET_KEY_BASE**: Auto-generated on first run, stored in `./plausible-secret.txt`\n- **Data Persistence**: PostgreSQL data in `./postgres-data/`, ClickHouse in `./clickhouse-data/`\n- **Initialization**: First startup takes ~60 seconds for database setup\n- **BASE_URL**: Must match your actual domain for proper operation\n- **Port Assignment**: Container-only port (Docker assigns random host port to avoid conflicts)\n\n## Resources\n- [Official Documentation](https://plausible.io/docs/self-hosting)\n- [Docker Setup Guide](https://github.com/plausible/community-edition)\n- [Plausible Community](https://plausible.io/community)\n- [Integration Guides](https://plausible.io/docs/integration-guides)"},{"name":"Rediaccfile","path":"plausible/Rediaccfile","type":"text","content":"#!/bin/bash\n\n# === Renet Compose Support ===\n_use_renet() {\n  [[ -n \"$REPOSITORY_NETWORK_ID\" ]] && command -v renet &>/dev/null\n}\n_compose() {\n  if _use_renet; then\n    renet compose --network-id \"$REPOSITORY_NETWORK_ID\" -- \"$@\"\n  else\n    docker compose \"$@\"\n  fi\n}\n\n# Plausible Community Edition Lifecycle Functions\n\nprep() {\n  echo \"Pulling Plausible images...\"\n  docker pull ghcr.io/plausible/community-edition:v2.1.4\n  local exit_code=$?\n  if [ $exit_code -ne 0 ]; then\n    echo \"Failed to pull Plausible image\"\n    return $exit_code\n  fi\n\n  docker pull postgres:16-alpine\n  exit_code=$?\n  if [ $exit_code -ne 0 ]; then\n    echo \"Failed to pull PostgreSQL image\"\n    return $exit_code\n  fi\n\n  docker pull clickhouse/clickhouse-server:24.3.3.102-alpine\n  exit_code=$?\n  if [ $exit_code -ne 0 ]; then\n    echo \"Failed to pull ClickHouse image\"\n    return $exit_code\n  fi\n\n  echo \"Creating data directories...\"\n  mkdir -p postgres-data clickhouse-data clickhouse-logs\n  return $?\n}\n\nup() {\n  echo \"Starting Plausible Community Edition...\"\n\n  # Auto-generate SECRET_KEY_BASE on first run\n  local secret_file=\"./plausible-secret.txt\"\n\n  if [ ! -f \"$secret_file\" ]; then\n    echo \"First run detected - generating SECRET_KEY_BASE...\"\n    echo \"\"\n\n    # Generate 64-byte secret key\n    local secret_key=$(openssl rand -base64 48)\n\n    # Store secret key\n    echo \"SECRET_KEY_BASE=${secret_key}\" > \"$secret_file\"\n    chmod 600 \"$secret_file\"\n\n    # Export for docker compose\n    export SECRET_KEY_BASE=\"$secret_key\"\n\n    echo \"‚úÖ Secret key generated and saved!\"\n    echo \"\"\n    echo \"üìÅ Key file: ${secret_file}\"\n    echo \"\"\n    echo \"‚ö†Ô∏è  IMPORTANT: Keep this file secure - required for data encryption!\"\n    echo \"\"\n  else\n    echo \"Loading existing SECRET_KEY_BASE...\"\n    source \"$secret_file\"\n    export SECRET_KEY_BASE\n    echo \"\"\n  fi\n\n  _compose up -d\n  local exit_code=$?\n  if [ $exit_code -ne 0 ]; then\n    echo \"Failed to start Plausible\"\n    return $exit_code\n  fi\n\n  echo \"\"\n  echo \"Plausible started successfully!\"\n  echo \"\"\n  echo \"‚è≥ Please wait ~60 seconds for initialization (database creation and migrations)...\"\n  echo \"\"\n  echo \"Access the web interface:\"\n  echo \"  1. Run: docker compose ps\"\n  echo \"  2. Find the mapped port for ${HTTP_PORT:-8000}/tcp\"\n  echo \"  3. Open: http://localhost:<mapped-port>\"\n  echo \"\"\n  echo \"First-time setup:\"\n  echo \"  ‚Ä¢ Create your admin account on first visit\"\n  echo \"  ‚Ä¢ Registration mode: ${DISABLE_REGISTRATION:-invite_only}\"\n  echo \"  ‚Ä¢ BASE_URL: ${BASE_URL:-http://localhost:8000}\"\n  echo \"\"\n  echo \"‚ö†Ô∏è  PRODUCTION NOTES:\"\n  echo \"  ‚Ä¢ Change BASE_URL in .env to your actual domain\"\n  echo \"  ‚Ä¢ Configure SMTP for email invites (see .env for options)\"\n  echo \"  ‚Ä¢ Review registration settings\"\n  echo \"\"\n  echo \"Check logs with: docker compose logs -f plausible\"\n  echo \"Official docs: https://plausible.io/docs/self-hosting\"\n  echo \"\"\n\n  return 0\n}\n\ndown() {\n  echo \"Stopping Plausible and cleaning up...\"\n  _compose down -v\n  return $?\n}"},{"name":"clickhouse-config.xml","path":"plausible/clickhouse-config.xml","type":"text","content":"<clickhouse>\n    <listen_host>0.0.0.0</listen_host>\n</clickhouse>"},{"name":"docker-compose.yaml","path":"plausible/docker-compose.yaml","type":"yaml","content":"services:\n\n  plausible:\n    image: ghcr.io/plausible/community-edition:v2.1.4\n    container_name: plausible\n    restart: always\n    networks:\n      - plausible_network\n    ports:\n      - \"${HTTP_PORT:-8000}\"\n    command: sh -c \"/entrypoint.sh db createdb && /entrypoint.sh db migrate && /entrypoint.sh run\"\n    environment:\n      - BASE_URL=${BASE_URL:-http://localhost:8000}\n      - SECRET_KEY_BASE=${SECRET_KEY_BASE}\n      - DISABLE_REGISTRATION=${DISABLE_REGISTRATION:-invite_only}\n      - DATABASE_URL=postgres://postgres:${POSTGRES_PASSWORD:-postgres}@plausible_db:5432/plausible_db\n      - CLICKHOUSE_DATABASE_URL=http://plausible_events_db:8123/plausible_events_db\n    depends_on:\n      plausible_db:\n        condition: service_healthy\n      plausible_events_db:\n        condition: service_healthy\n\n  plausible_db:\n    image: postgres:16-alpine\n    container_name: plausible_db\n    restart: always\n    networks:\n      - plausible_network\n    environment:\n      - POSTGRES_PASSWORD=${POSTGRES_PASSWORD:-postgres}\n      - POSTGRES_DB=plausible_db\n    volumes:\n      - ./postgres-data:/var/lib/postgresql/data\n    healthcheck:\n      test: [\"CMD-SHELL\", \"pg_isready -U postgres\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n      start_period: 30s\n\n  plausible_events_db:\n    image: clickhouse/clickhouse-server:24.3.3.102-alpine\n    container_name: plausible_events_db\n    restart: always\n    networks:\n      - plausible_network\n    environment:\n      - CLICKHOUSE_SKIP_USER_SETUP=1\n    volumes:\n      - ./clickhouse-data:/var/lib/clickhouse\n      - ./clickhouse-logs:/var/log/clickhouse-server\n      - ./clickhouse-config.xml:/etc/clickhouse-server/config.d/logging.xml:ro\n    ulimits:\n      nofile:\n        soft: 262144\n        hard: 262144\n    healthcheck:\n      test: [\"CMD-SHELL\", \"clickhouse-client --query 'SELECT 1' || exit 1\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n      start_period: 30s\n\nnetworks:\n  plausible_network:\n    driver: bridge"}],"readme":"# Plausible Community Edition\n\nLightweight, privacy-focused web analytics platform that respects user privacy while providing valuable insights.\n\n## Features\n- Privacy-first analytics (GDPR, CCPA compliant, no cookies)\n- Lightweight tracking script (<1KB)\n- Real-time visitor statistics and pageview tracking\n- Self-hosted with full data ownership\n- Beautiful, simple dashboard interface\n- Built on PostgreSQL and ClickHouse for performance\n\n## Usage\n```bash\nsource Rediaccfile\nprep  # Pull images and create directories\nup    # Start Plausible (auto-generates secret key on first run)\ndown  # Stop and cleanup\n```\n\n### First Run - Auto-Configuration\nOn first run, a secret key is automatically generated:\n- **SECRET_KEY_BASE**: 64-byte encryption key for data security\n- **Secret File**: Saved to `./plausible-secret.txt`\n- **Initialization**: Database creation and migrations run automatically (~60 seconds)\n- **Admin Account**: Create on first visit to web interface\n\n**Important**: Keep the secret file secure - required for encryption!\n\n## Configuration\nEdit `.env` to customize:\n- `BASE_URL`: Your domain (default: http://localhost:8000)\n- `HTTP_PORT`: Container port (default: 8000)\n- `DISABLE_REGISTRATION`: Registration mode (default: invite_only)\n- `POSTGRES_PASSWORD`: Database password (default: postgres)\n\n### Email Configuration (Optional)\nFor user invites and password resets, configure SMTP in `.env`:\n- Uncomment and set `SMTP_HOST_ADDR`, `SMTP_HOST_PORT`, etc.\n- Or use third-party services (Postmark, Mailgun, SendGrid)\n\n## Access\n- **Web Interface**: Auto-assigned port (find with `docker compose ps`)\n  - Example: `http://localhost:<port>`\n- **Find Port**: Run `docker compose ps` and look for mapped port\n- **First Visit**: Create your admin account\n- **Startup Time**: Allow ~60 seconds for database initialization\n\n## Website Integration\nAfter setting up Plausible:\n\n1. **Create Site**: Add your website in the Plausible dashboard\n2. **Add Tracking Script**: Insert in your website's `<head>`:\n   ```html\n   <script defer data-domain=\"yourdomain.com\" src=\"http://your-plausible-url/js/script.js\"></script>\n   ```\n3. **Verify**: Visit your site and check the Plausible dashboard\n\n## Production Setup\nFor production deployments:\n\n1. **Domain Configuration**\n   - Set `BASE_URL` to your actual domain (e.g., https://analytics.example.com)\n   - Configure reverse proxy (Nginx/Caddy) with SSL/TLS\n\n2. **Email Setup**\n   - Configure SMTP for user invites and password resets\n   - Required for team collaboration features\n\n3. **Registration Mode**\n   - Set `DISABLE_REGISTRATION=true` after creating admin account\n   - Use invite-only mode for team members\n\n4. **Resource Requirements**\n   - Minimum 2GB RAM recommended\n   - CPU must support SSE 4.2 or NEON (ClickHouse requirement)\n\n## Important Notes\n- **SECRET_KEY_BASE**: Auto-generated on first run, stored in `./plausible-secret.txt`\n- **Data Persistence**: PostgreSQL data in `./postgres-data/`, ClickHouse in `./clickhouse-data/`\n- **Initialization**: First startup takes ~60 seconds for database setup\n- **BASE_URL**: Must match your actual domain for proper operation\n- **Port Assignment**: Container-only port (Docker assigns random host port to avoid conflicts)\n\n## Resources\n- [Official Documentation](https://plausible.io/docs/self-hosting)\n- [Docker Setup Guide](https://github.com/plausible/community-edition)\n- [Plausible Community](https://plausible.io/community)\n- [Integration Guides](https://plausible.io/docs/integration-guides)","generated":"2026-01-16T09:43:38Z"}
