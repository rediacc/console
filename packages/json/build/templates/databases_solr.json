{
  "id": "databases_solr",
  "name": "Apache Solr Search Platform",
  "description": "Enterprise search platform built on Apache Lucene with powerful full-text search, faceting, real-time indexing, and RESTful APIs.",
  "category": "databases",
  "tags": ["databases", "solr"],
  "files": [
    {
      "name": ".env",
      "path": "solr/.env",
      "type": "environment",
      "content": "# Network Mode Configuration\n# Options:\n#   bridge - Isolated network, multiple instances supported (default)\n#   host   - Shared host network, checkpoint-compatible (for live migration)\nNETWORK_MODE=bridge\n\n# Note: Host networking required for Docker checkpoint/restore support\n# Bridge mode recommended for development and multi-instance deployments\n\n# Solr Configuration\nCONTAINER_NAME=solr-server\n\n# JVM Memory Settings\n# Adjust based on your index size and available RAM\n# Recommended: 512m for development, 2g-4g for production\nSOLR_HEAP=512m\nSOLR_JAVA_MEM=\"-Xms512m -Xmx512m\"\n\n# Core Configuration\n# Name of the default core to create on startup\nSOLR_CORE_NAME=mycore"
    },
    {
      "name": "README.md",
      "path": "solr/README.md",
      "type": "markdown",
      "content": "# Apache Solr Search Platform\n\nEnterprise search platform built on Apache Lucene with powerful full-text search, faceting, real-time indexing, and RESTful APIs.\n\n## Features\n\n- Apache Solr 9.x with built-in Admin UI\n- Full-text search with faceting and highlighting\n- RESTful HTTP/JSON API\n- Configurable cores with managed schema\n- Persistent data storage with health checks\n\n## Usage\n\n```bash\nsource Rediaccfile\nprep  # Pull images and create directories\nup    # Start Solr\ndown  # Stop and cleanup\n```\n\n## Configuration\n\nEdit `.env` to customize:\n- `CONTAINER_NAME`: Container name (default: solr-server)\n- `SOLR_HEAP`: JVM heap size (default: 512m)\n- `SOLR_JAVA_MEM`: Java memory settings (default: -Xms512m -Xmx512m)\n- `SOLR_CORE_NAME`: Default core name (default: mycore)\n\n## Access\n\n- **Port**: 8983 (Docker auto-assigns host port)\n- **Admin UI**: http://localhost:[assigned-port]/solr\n- **Find assigned port**: `docker compose ps` or `docker port solr-server 8983`\n\n### Quick Start Examples\n\n```bash\n# Create a core\ncurl \"http://localhost:8983/solr/admin/cores?action=CREATE&name=products&configSet=_default\"\n\n# Index a document\ncurl -X POST http://localhost:8983/solr/mycore/update?commit=true \\\n  -H \"Content-Type: application/json\" \\\n  -d '[{\"id\":\"1\",\"title\":\"Product Name\",\"description\":\"Product description\"}]'\n\n# Search documents\ncurl \"http://localhost:8983/solr/mycore/select?q=*:*&rows=10\"\n\n# Using container CLI\ndocker exec -it solr-server solr status\ndocker exec -it solr-server solr create_core -c products\n```\n\n### Data Persistence\n\n- **Data Directory**: `./data` - All cores, indexes, and configurations\n- Data persists across container restarts in the repository directory\n\n## Resources\n\n- [Docker Hub - Solr](https://hub.docker.com/_/solr)\n- [Official Solr Documentation](https://solr.apache.org/guide/solr/latest/)\n- [Solr Docker Guide](https://solr.apache.org/guide/solr/latest/deployment-guide/solr-in-docker.html)\n- [Query Syntax Guide](https://solr.apache.org/guide/solr/latest/query-guide/query-syntax-and-parsers.html)"
    },
    {
      "name": "Rediaccfile",
      "path": "solr/Rediaccfile",
      "type": "text",
      "content": "#!/bin/bash\n\n# === Renet Compose Support ===\n_use_renet() {\n  [[ -n \"$REPOSITORY_NETWORK_ID\" ]] && command -v renet &>/dev/null\n}\n_compose() {\n  if _use_renet; then\n    renet compose --network-id \"$REPOSITORY_NETWORK_ID\" -- \"$@\"\n  else\n    docker compose \"$@\"\n  fi\n}\n\nprep() {\n    echo \"Pulling Apache Solr image...\"\n    docker pull solr:9-slim\n\n    echo \"Creating data directory...\"\n    mkdir -p ./data\n\n    # Solr runs as user 8983:8983 inside the container\n    # Set appropriate permissions for the data directory\n    sudo chown -R 8983:8983 ./data 2>/dev/null || chown -R 8983:8983 ./data 2>/dev/null || chmod 777 ./data\n\n    return $?\n}\n\nup() {\n    if [ -f .env ]; then\n        source .env\n    fi\n\n    echo \"Starting Apache Solr server...\"\n    _compose up -d\n\n    echo \"Waiting for Solr to be ready...\"\n    sleep 5\n\n    echo \"\"\n    echo \"Solr is starting up...\"\n    echo \"Admin UI will be available at: http://localhost:\\$(docker port ${CONTAINER_NAME:-solr-server} 8983 | cut -d: -f2)/solr\"\n    echo \"Core '${SOLR_CORE_NAME:-mycore}' is being created...\"\n\n    return $?\n}\n\ndown() {\n    echo \"Stopping Apache Solr server...\"\n    _compose down -v\n    return $?\n}"
    },
    {
      "name": "docker-compose.yaml",
      "path": "solr/docker-compose.yaml",
      "type": "yaml",
      "content": "services:\n  solr:\n    image: solr:9-slim\n    container_name: ${CONTAINER_NAME}\n    restart: always\n    network_mode: \"${NETWORK_MODE:-bridge}\"\n    environment:\n      SOLR_HEAP: ${SOLR_HEAP}\n      SOLR_JAVA_MEM: ${SOLR_JAVA_MEM}\n    ports:\n      - \"8983\"\n    volumes:\n      - ./data:/var/solr\n    command: solr-precreate ${SOLR_CORE_NAME}\n    healthcheck:\n      test: [\"CMD\", \"curl\", \"-f\", \"http://localhost:8983/solr/${SOLR_CORE_NAME}/admin/ping\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n      start_period: 30s"
    }
  ],
  "readme": "# Apache Solr Search Platform\n\nEnterprise search platform built on Apache Lucene with powerful full-text search, faceting, real-time indexing, and RESTful APIs.\n\n## Features\n\n- Apache Solr 9.x with built-in Admin UI\n- Full-text search with faceting and highlighting\n- RESTful HTTP/JSON API\n- Configurable cores with managed schema\n- Persistent data storage with health checks\n\n## Usage\n\n```bash\nsource Rediaccfile\nprep  # Pull images and create directories\nup    # Start Solr\ndown  # Stop and cleanup\n```\n\n## Configuration\n\nEdit `.env` to customize:\n- `CONTAINER_NAME`: Container name (default: solr-server)\n- `SOLR_HEAP`: JVM heap size (default: 512m)\n- `SOLR_JAVA_MEM`: Java memory settings (default: -Xms512m -Xmx512m)\n- `SOLR_CORE_NAME`: Default core name (default: mycore)\n\n## Access\n\n- **Port**: 8983 (Docker auto-assigns host port)\n- **Admin UI**: http://localhost:[assigned-port]/solr\n- **Find assigned port**: `docker compose ps` or `docker port solr-server 8983`\n\n### Quick Start Examples\n\n```bash\n# Create a core\ncurl \"http://localhost:8983/solr/admin/cores?action=CREATE&name=products&configSet=_default\"\n\n# Index a document\ncurl -X POST http://localhost:8983/solr/mycore/update?commit=true \\\n  -H \"Content-Type: application/json\" \\\n  -d '[{\"id\":\"1\",\"title\":\"Product Name\",\"description\":\"Product description\"}]'\n\n# Search documents\ncurl \"http://localhost:8983/solr/mycore/select?q=*:*&rows=10\"\n\n# Using container CLI\ndocker exec -it solr-server solr status\ndocker exec -it solr-server solr create_core -c products\n```\n\n### Data Persistence\n\n- **Data Directory**: `./data` - All cores, indexes, and configurations\n- Data persists across container restarts in the repository directory\n\n## Resources\n\n- [Docker Hub - Solr](https://hub.docker.com/_/solr)\n- [Official Solr Documentation](https://solr.apache.org/guide/solr/latest/)\n- [Solr Docker Guide](https://solr.apache.org/guide/solr/latest/deployment-guide/solr-in-docker.html)\n- [Query Syntax Guide](https://solr.apache.org/guide/solr/latest/query-guide/query-syntax-and-parsers.html)",
  "generated": "2026-01-16T09:43:38Z"
}
