{
  "id": "platforms_nginx",
  "name": "Nginx Template",
  "description": "Minimal Nginx web server deployment.",
  "category": "platforms",
  "tags": ["platforms", "nginx"],
  "files": [
    {
      "name": ".env",
      "path": "nginx/.env",
      "type": "environment",
      "content": "# Network Mode Configuration\n# Options:\n#   bridge - Isolated network, multiple instances supported (default)\n#   host   - Shared host network, checkpoint-compatible (for live migration)\nNETWORK_MODE=bridge\n\n# Note: Host networking required for Docker checkpoint/restore support\n# Bridge mode recommended for development and multi-instance deployments\n\n# Nginx Configuration\nCONTAINER_NAME=rediacc-nginx"
    },
    {
      "name": "README.md",
      "path": "nginx/README.md",
      "type": "markdown",
      "content": "# Nginx Template\n\nMinimal Nginx web server deployment.\n\n## Features\n- Latest Nginx stable release\n- Single command deployment\n- Lightweight and fast HTTP server\n- Auto-cleanup on container stop\n\n## Usage\n```bash\nsource Rediaccfile\nprep  # Pull Nginx image\nup    # Start Nginx server\ndown  # Stop and cleanup\n```\n\n## Configuration\nThis template uses a minimal configuration:\n- **Port**: 80 (Docker auto-assigns host port)\n- **Container**: Runs in detached mode with auto-removal\n\n## Access\n- **Port**: 80 (Docker auto-assigns host port)\n- **Find assigned port**: `docker ps | grep rediacc-nginx`\n- **Default page**: Access via `http://localhost:[assigned-port]`\n\n## Resources\n- [Official Docker Hub](https://hub.docker.com/_/nginx)\n- [Official Documentation](https://nginx.org/en/docs/)"
    },
    {
      "name": "Rediaccfile",
      "path": "nginx/Rediaccfile",
      "type": "text",
      "content": "#!/bin/bash\n\n# === Renet Compose Support ===\n_use_renet() {\n  [[ -n \"$REPOSITORY_NETWORK_ID\" ]] && command -v renet &>/dev/null\n}\n_compose() {\n  if _use_renet; then\n    renet compose --network-id \"$REPOSITORY_NETWORK_ID\" -- \"$@\"\n  else\n    docker compose \"$@\"\n  fi\n}\n\nprep() {\n  echo \"Pulling Nginx image...\"\n  docker pull nginx:latest\n  return $?\n}\n\nup() {\n  if [ -f .env ]; then\n    source .env\n  fi\n\n  echo \"Starting Nginx server...\"\n  _compose up -d\n  return $?\n}\n\ndown() {\n  echo \"Stopping Nginx server...\"\n  _compose down -v\n  return $?\n}"
    },
    {
      "name": "docker-compose.yaml",
      "path": "nginx/docker-compose.yaml",
      "type": "yaml",
      "content": "services:\n  nginx:\n    image: nginx:latest\n    container_name: ${CONTAINER_NAME}\n    restart: always\n    network_mode: \"${NETWORK_MODE:-bridge}\"\n    ports:\n      - \"80\"\n    healthcheck:\n      test: [\"CMD-SHELL\", \"curl -f http://localhost:80 || exit 1\"]\n      interval: 30s\n      timeout: 10s\n      retries: 3\n      start_period: 10s"
    }
  ],
  "readme": "# Nginx Template\n\nMinimal Nginx web server deployment.\n\n## Features\n- Latest Nginx stable release\n- Single command deployment\n- Lightweight and fast HTTP server\n- Auto-cleanup on container stop\n\n## Usage\n```bash\nsource Rediaccfile\nprep  # Pull Nginx image\nup    # Start Nginx server\ndown  # Stop and cleanup\n```\n\n## Configuration\nThis template uses a minimal configuration:\n- **Port**: 80 (Docker auto-assigns host port)\n- **Container**: Runs in detached mode with auto-removal\n\n## Access\n- **Port**: 80 (Docker auto-assigns host port)\n- **Find assigned port**: `docker ps | grep rediacc-nginx`\n- **Default page**: Access via `http://localhost:[assigned-port]`\n\n## Resources\n- [Official Docker Hub](https://hub.docker.com/_/nginx)\n- [Official Documentation](https://nginx.org/en/docs/)",
  "generated": "2026-01-16T09:43:38Z"
}
