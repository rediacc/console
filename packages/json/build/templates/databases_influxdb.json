{"id":"databases_influxdb","name":"InfluxDB Time Series Database","description":"High-performance time series database optimized for fast, high-availability storage and retrieval of time series data.","category":"databases","tags":["databases","influxdb"],"files":[{"name":".env","path":"influxdb/.env","type":"environment","content":"# Network Mode Configuration\n# Options:\n#   bridge - Isolated network, multiple instances supported (default)\n#   host   - Shared host network, checkpoint-compatible (for live migration)\nNETWORK_MODE=bridge\n\n# Note: Host networking required for Docker checkpoint/restore support\n# Bridge mode recommended for development and multi-instance deployments\n\n# InfluxDB Configuration\nCONTAINER_NAME=influxdb-server\n\n# Initial Setup - Admin User\nINFLUXDB_INIT_USERNAME=admin\nINFLUXDB_INIT_PASSWORD=influxPassword123!\n\n# Initial Setup - Organization and Bucket\nINFLUXDB_INIT_ORG=myorg\nINFLUXDB_INIT_BUCKET=mybucket\n\n# Data Retention (0 = infinite, or use duration like 30d, 1w, 1y)\nINFLUXDB_INIT_RETENTION=0\n\n# Admin Token (leave empty to auto-generate, or set a secure token)\n# Generate secure token: openssl rand -base64 32\nINFLUXDB_INIT_ADMIN_TOKEN="},{"name":"README.md","path":"influxdb/README.md","type":"markdown","content":"# InfluxDB Time Series Database\n\nHigh-performance time series database optimized for fast, high-availability storage and retrieval of time series data.\n\n## Features\n\n- InfluxDB 2.7 with built-in web UI and API\n- Automated initial setup with authentication\n- Flux query language for data analysis\n- Persistent data storage in local directories\n- Optimized for IoT, metrics, and monitoring data\n\n## Usage\n\n```bash\nsource Rediaccfile\nprep  # Pull images and create directories\nup    # Start InfluxDB\ndown  # Stop and cleanup\n```\n\n## Configuration\n\nEdit `.env` to customize:\n\n- `CONTAINER_NAME`: Container name (default: influxdb-server)\n- `INFLUXDB_INIT_USERNAME`: Admin username (default: admin)\n- `INFLUXDB_INIT_PASSWORD`: Admin password (default: influxPassword123!)\n- `INFLUXDB_INIT_ORG`: Organization name (default: myorg)\n- `INFLUXDB_INIT_BUCKET`: Default bucket name (default: mybucket)\n- `INFLUXDB_INIT_RETENTION`: Data retention period (default: 0 - infinite)\n- `INFLUXDB_INIT_ADMIN_TOKEN`: API admin token (auto-generated if not set)\n\n## Access\n\n**Web Interface:**\n- **Port**: 8086 (Docker auto-assigns host port)\n- **Credentials**: Check `.env` file for username/password\n- **Find assigned port**: `docker compose ps`\n\n**API Access:**\n```bash\n# Retrieve admin token from logs\ndocker logs influxdb-server 2>&1 | grep \"token\"\n\n# Write data\ncurl -X POST http://localhost:8086/api/v2/write?org=myorg&bucket=mybucket \\\n  -H \"Authorization: Token YOUR_ADMIN_TOKEN\" \\\n  -H \"Content-Type: text/plain\" \\\n  --data-raw \"temperature,location=room1 value=23.5\"\n\n# Query data using Flux\ncurl -X POST http://localhost:8086/api/v2/query?org=myorg \\\n  -H \"Authorization: Token YOUR_ADMIN_TOKEN\" \\\n  -H \"Content-Type: application/vnd.flux\" \\\n  --data 'from(bucket:\"mybucket\") |> range(start:-1h)'\n```\n\n**CLI Access:**\n```bash\ndocker exec -it influxdb-server influx bucket list\ndocker exec -it influxdb-server influx query 'from(bucket:\"mybucket\") |> range(start:-1h)'\n```\n\n## Resources\n\n- [Official Docker Hub](https://hub.docker.com/_/influxdb)\n- [Official Documentation](https://docs.influxdata.com/influxdb/v2/)\n- [Flux Query Language Guide](https://docs.influxdata.com/flux/v0/)\n- [Migration from v1.x](https://docs.influxdata.com/influxdb/v2/upgrade/v1-to-v2/)"},{"name":"Rediaccfile","path":"influxdb/Rediaccfile","type":"text","content":"#!/bin/bash\n\n# === Renet Compose Support ===\n_use_renet() {\n  [[ -n \"$REPOSITORY_NETWORK_ID\" ]] && command -v renet &>/dev/null\n}\n_compose() {\n  if _use_renet; then\n    renet compose --network-id \"$REPOSITORY_NETWORK_ID\" -- \"$@\"\n  else\n    docker compose \"$@\"\n  fi\n}\n\nprep() {\n    echo \"Pulling InfluxDB image...\"\n    docker pull influxdb:2.7\n\n    echo \"Creating data and config directories...\"\n    mkdir -p ./data\n    mkdir -p ./config\n    chmod 755 ./data ./config\n\n    return $?\n}\n\nup() {\n    if [ -f .env ]; then\n        source .env\n    fi\n\n    echo \"Starting InfluxDB server...\"\n    _compose up -d\n\n    echo \"\"\n    echo \"InfluxDB is starting up...\"\n    echo \"Web UI will be available at: http://localhost:8086\"\n    echo \"\"\n    echo \"To get your admin token after setup:\"\n    echo \"  docker logs ${CONTAINER_NAME:-influxdb-server} 2>&1 | grep 'token'\"\n    echo \"\"\n\n    return $?\n}\n\ndown() {\n    echo \"Stopping InfluxDB server...\"\n    _compose down -v\n    return $?\n}"},{"name":"docker-compose.yaml","path":"influxdb/docker-compose.yaml","type":"yaml","content":"services:\n  influxdb:\n    image: influxdb:2.7\n    container_name: ${CONTAINER_NAME}\n    restart: always\n    network_mode: \"${NETWORK_MODE:-bridge}\"\n    environment:\n      DOCKER_INFLUXDB_INIT_MODE: setup\n      DOCKER_INFLUXDB_INIT_USERNAME: ${INFLUXDB_INIT_USERNAME}\n      DOCKER_INFLUXDB_INIT_PASSWORD: ${INFLUXDB_INIT_PASSWORD}\n      DOCKER_INFLUXDB_INIT_ORG: ${INFLUXDB_INIT_ORG}\n      DOCKER_INFLUXDB_INIT_BUCKET: ${INFLUXDB_INIT_BUCKET}\n      DOCKER_INFLUXDB_INIT_RETENTION: ${INFLUXDB_INIT_RETENTION}\n      DOCKER_INFLUXDB_INIT_ADMIN_TOKEN: ${INFLUXDB_INIT_ADMIN_TOKEN}\n    ports:\n      - \"8086\"\n    volumes:\n      - ./data:/var/lib/influxdb2\n      - ./config:/etc/influxdb2\n    healthcheck:\n      test: [\"CMD\", \"influx\", \"ping\"]\n      interval: 10s\n      timeout: 5s\n      retries: 5\n      start_period: 30s"}],"readme":"# InfluxDB Time Series Database\n\nHigh-performance time series database optimized for fast, high-availability storage and retrieval of time series data.\n\n## Features\n\n- InfluxDB 2.7 with built-in web UI and API\n- Automated initial setup with authentication\n- Flux query language for data analysis\n- Persistent data storage in local directories\n- Optimized for IoT, metrics, and monitoring data\n\n## Usage\n\n```bash\nsource Rediaccfile\nprep  # Pull images and create directories\nup    # Start InfluxDB\ndown  # Stop and cleanup\n```\n\n## Configuration\n\nEdit `.env` to customize:\n\n- `CONTAINER_NAME`: Container name (default: influxdb-server)\n- `INFLUXDB_INIT_USERNAME`: Admin username (default: admin)\n- `INFLUXDB_INIT_PASSWORD`: Admin password (default: influxPassword123!)\n- `INFLUXDB_INIT_ORG`: Organization name (default: myorg)\n- `INFLUXDB_INIT_BUCKET`: Default bucket name (default: mybucket)\n- `INFLUXDB_INIT_RETENTION`: Data retention period (default: 0 - infinite)\n- `INFLUXDB_INIT_ADMIN_TOKEN`: API admin token (auto-generated if not set)\n\n## Access\n\n**Web Interface:**\n- **Port**: 8086 (Docker auto-assigns host port)\n- **Credentials**: Check `.env` file for username/password\n- **Find assigned port**: `docker compose ps`\n\n**API Access:**\n```bash\n# Retrieve admin token from logs\ndocker logs influxdb-server 2>&1 | grep \"token\"\n\n# Write data\ncurl -X POST http://localhost:8086/api/v2/write?org=myorg&bucket=mybucket \\\n  -H \"Authorization: Token YOUR_ADMIN_TOKEN\" \\\n  -H \"Content-Type: text/plain\" \\\n  --data-raw \"temperature,location=room1 value=23.5\"\n\n# Query data using Flux\ncurl -X POST http://localhost:8086/api/v2/query?org=myorg \\\n  -H \"Authorization: Token YOUR_ADMIN_TOKEN\" \\\n  -H \"Content-Type: application/vnd.flux\" \\\n  --data 'from(bucket:\"mybucket\") |> range(start:-1h)'\n```\n\n**CLI Access:**\n```bash\ndocker exec -it influxdb-server influx bucket list\ndocker exec -it influxdb-server influx query 'from(bucket:\"mybucket\") |> range(start:-1h)'\n```\n\n## Resources\n\n- [Official Docker Hub](https://hub.docker.com/_/influxdb)\n- [Official Documentation](https://docs.influxdata.com/influxdb/v2/)\n- [Flux Query Language Guide](https://docs.influxdata.com/flux/v0/)\n- [Migration from v1.x](https://docs.influxdata.com/influxdb/v2/upgrade/v1-to-v2/)","generated":"2026-01-16T09:43:38Z"}
