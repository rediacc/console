{
  "categories": [
    "machine",
    "repository",
    "backup",
    "network",
    "container"
  ],
  "functions": {
    "setup": {
      "name": "setup",
      "category": "machine",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true,
        "company": true
      },
      "params": {
        "datastore_size": {
          "type": "string",
          "default": "95%",
          "format": "size",
          "units": ["percentage", "G", "T"]
        },
        "from": {
          "type": "string",
          "default": "apt-repo",
          "options": ["apt-repo", "tar-static", "deb-local"]
        },
        "rclone_source": {
          "type": "string",
          "default": "install-script",
          "options": ["install-script", "package-manager", "manual"],
          "ui": "dropdown"
        },
        "docker_source": {
          "type": "string",
          "default": "docker-repo",
          "options": ["docker-repo", "package-manager", "snap", "manual"],
          "ui": "dropdown"
        },
        "install_amd_driver": {
          "type": "string",
          "default": "auto",
          "options": ["auto", "true", "false"],
          "ui": "dropdown"
        },
        "install_criu": {
          "type": "string",
          "default": "auto",
          "options": ["auto", "true", "false", "manual"],
          "ui": "dropdown"
        },
        "install_nvidia_driver": {
          "type": "string",
          "default": "auto",
          "options": ["auto", "true", "false"],
          "ui": "dropdown"
        }
      }
    },
    "hello": {
      "name": "hello",
      "category": "machine",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true
      },
      "params": {}
    },
    "ping": {
      "name": "ping",
      "category": "machine",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true
      },
      "params": {}
    },
    "ssh_test": {
      "name": "ssh_test",
      "category": "machine",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true
      },
      "params": {}
    },
    "uninstall": {
      "name": "uninstall",
      "category": "machine",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true
      },
      "params": {}
    },
    "new": {
      "name": "new",
      "category": "machine",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true,
          "ui": "repository-dropdown"
        },
        "size": {
          "type": "string",
          "required": true,
          "format": "size",
          "units": ["G", "T"]
        },
        "tmpl": {
          "type": "string",
          "required": false,
          "description": "Base64 encoded template JSON"
        }
      }
    },
    "mount": {
      "name": "mount",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "from": {
          "type": "string"
        },
        "grand": {
          "type": "string",
          "required": true
        },
        "checkpoint": {
          "type": "string",
          "default": "false",
          "options": ["true", "false"],
          "ui": "dropdown"
        }
      }
    },
    "unmount": {
      "name": "unmount",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "from": {
          "type": "string"
        },
        "grand": {
          "type": "string",
          "required": true
        },
        "checkpoint": {
          "type": "string",
          "default": "false",
          "options": ["true", "false"],
          "ui": "dropdown"
        }
      }
    },
    "up": {
      "name": "up",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true,
        "bridge": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "option": {
          "type": "string",
          "label": "Options",
          "ui": "checkbox",
          "checkboxOptions": [
            {
              "value": "mount",
              "label": "mountRepositoryFirst"
            },
            {
              "value": "prep-only",
              "label": "preparationOnly"
            }
          ]
        },
        "grand": {
          "type": "string"
        }
      }
    },
    "down": {
      "name": "down",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "option": {
          "type": "string",
          "label": "Options",
          "ui": "checkbox",
          "checkboxOptions": [
            {
              "value": "unmount",
              "label": "unmountAfterStopping"
            }
          ]
        },
        "grand": {
          "type": "string"
        }
      }
    },
    "validate": {
      "name": "validate",
      "category": "repository",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true,
        "bridge": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "grand": {
          "type": "string",
          "required": true
        },
        "skip_prep": {
          "type": "string",
          "default": "false",
          "options": ["true", "false"],
          "ui": "dropdown"
        },
        "skip_down": {
          "type": "string",
          "default": "false",
          "options": ["true", "false"],
          "ui": "dropdown"
        },
        "cleanup": {
          "type": "string",
          "default": "true",
          "options": ["true", "false"],
          "ui": "dropdown"
        },
        "timeout": {
          "type": "string",
          "default": "300"
        }
      }
    },
    "resize": {
      "name": "resize",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "size": {
          "type": "string",
          "required": true,
          "format": "size",
          "units": ["G", "T"]
        }
      }
    },
    "expand": {
      "name": "expand",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "size": {
          "type": "string",
          "required": true,
          "format": "size",
          "units": ["G", "T"]
        },
        "grand": {
          "type": "string",
          "required": true
        }
      }
    },
    "rm": {
      "name": "rm",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "grand": {
          "type": "string",
          "required": true
        }
      }
    },
    "apply_template": {
      "name": "apply_template",
      "category": "repository",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "grand": {
          "type": "string",
          "required": true
        },
        "tmpl": {
          "type": "string",
          "required": true,
          "ui": "template-selector",
          "description": "Base64 encoded template JSON"
        }
      }
    },
    "ownership": {
      "name": "ownership",
      "category": "repository",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "from": {
          "type": "string",
          "required": true
        },
        "to": {
          "type": "string"
        }
      }
    },
    "list": {
      "name": "list",
      "category": "machine",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "company": true
      },
      "params": {
        "kind": {
          "type": "string",
          "default": "repo"
        },
        "format": {
          "type": "string"
        }
      }
    },
    "deploy": {
      "name": "deploy",
      "category": "backup",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "dest": {
          "type": "string",
          "required": true,
          "placeholder": "deployment-filename"
        },
        "machines": {
          "type": "array",
          "required": true,
          "ui": "machine-multiselect",
          "label": "Target Machines"
        },
        "state": {
          "type": "string",
          "options": ["online", "offline"],
          "ui": "dropdown"
        },
        "option": {
          "type": "string",
          "label": "Options",
          "ui": "checkbox",
          "checkboxOptions": [
            {
              "value": "override",
              "label": "overrideExistingFile"
            }
          ]
        },
        "checkpoint": {
          "type": "string",
          "default": "false",
          "options": ["true", "false"],
          "ui": "dropdown"
        },
        "grand": {
          "type": "string",
          "required": true
        }
      }
    },
    "backup": {
      "name": "backup",
      "category": "backup",
      "showInMenu": true,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true,
        "storage": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "dest": {
          "type": "string",
          "required": true,
          "placeholder": "backup-filename"
        },
        "storages": {
          "type": "array",
          "required": true,
          "ui": "storage-multiselect",
          "label": "Target Storage Systems"
        },
        "state": {
          "type": "string",
          "options": ["online", "offline"],
          "ui": "dropdown"
        },
        "option": {
          "type": "string",
          "label": "Options",
          "ui": "checkbox",
          "checkboxOptions": [
            {
              "value": "override",
              "label": "overrideExistingFile"
            }
          ]
        },
        "checkpoint": {
          "type": "string",
          "default": "false",
          "options": ["true", "false"],
          "ui": "dropdown"
        },
        "grand": {
          "type": "string",
          "required": true
        }
      }
    },
    "push": {
      "name": "push",
      "category": "backup",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true,
        "storage": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "dest": {
          "type": "string",
          "required": true,
          "placeholder": "backup-filename"
        },
        "destinationType": {
          "type": "string",
          "required": true,
          "options": ["machine", "storage"],
          "ui": "dropdown",
          "default": "machine"
        },
        "to": {
          "type": "string",
          "required": true,
          "ui": "destination-dropdown"
        },
        "state": {
          "type": "string",
          "options": ["online", "offline"],
          "ui": "dropdown"
        },
        "option": {
          "type": "string",
          "label": "Options",
          "ui": "checkbox",
          "checkboxOptions": [
            {
              "value": "override",
              "label": "overrideExistingFile"
            }
          ]
        },
        "checkpoint": {
          "type": "string",
          "default": "false",
          "options": ["true", "false"],
          "ui": "dropdown"
        },
        "grand": {
          "type": "string",
          "required": true
        }
      }
    },
    "pull": {
      "name": "pull",
      "category": "backup",
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true,
        "storage": true
      },
      "params": {
        "sourceType": {
          "type": "string",
          "required": true,
          "options": ["machine", "storage"],
          "ui": "dropdown",
          "default": "storage"
        },
        "from": {
          "type": "string",
          "required": true,
          "ui": "source-dropdown"
        },
        "repo": {
          "type": "string",
          "required": true,
          "ui": "repository-dropdown"
        }
      }
    },
    "list": {
      "name": "list",
      "category": "backup",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "storage": true
      },
      "params": {
        "from": {
          "type": "string",
          "required": true
        },
        "path": {
          "type": "string",
          "required": false
        },
        "format": {
          "type": "string",
          "required": false,
          "default": "json",
          "options": ["json", "text"]
        }
      }
    },
    "container_start": {
      "name": "container_start",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        }
      }
    },
    "container_stop": {
      "name": "container_stop",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        }
      }
    },
    "container_restart": {
      "name": "container_restart",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        }
      }
    },
    "container_remove": {
      "name": "container_remove",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        },
        "force": {
          "type": "string",
          "default": "false",
          "options": ["true", "false"],
          "ui": "dropdown"
        }
      }
    },
    "container_logs": {
      "name": "container_logs",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        },
        "lines": {
          "type": "string",
          "default": "100"
        },
        "follow": {
          "type": "string",
          "default": "false",
          "options": ["true", "false"],
          "ui": "dropdown"
        }
      }
    },
    "container_inspect": {
      "name": "container_inspect",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        }
      }
    },
    "container_stats": {
      "name": "container_stats",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": false
        }
      }
    },
    "container_pause": {
      "name": "container_pause",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        }
      }
    },
    "container_unpause": {
      "name": "container_unpause",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        }
      }
    },
    "container_exec": {
      "name": "container_exec",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        },
        "command": {
          "type": "string",
          "required": true,
          "placeholder": "Command to run"
        },
        "user": {
          "type": "string",
          "required": false
        },
        "tty": {
          "type": "string",
          "default": "false",
          "options": ["true", "false"],
          "ui": "dropdown"
        }
      }
    },
    "container_kill": {
      "name": "container_kill",
      "category": "container",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true,
        "repository": true
      },
      "params": {
        "repo": {
          "type": "string",
          "required": true
        },
        "container": {
          "type": "string",
          "required": true
        },
        "signal": {
          "type": "string",
          "default": "SIGTERM"
        }
      }
    },
    "nop": {
      "name": "nop",
      "category": "maintenance",
      "showInMenu": false,
      "requirements": {
        "machine": true,
        "team": true
      },
      "params": {
        "message": {
          "type": "string",
          "required": false,
          "placeholder": "Optional message"
        }
      }
    }
  }
}
